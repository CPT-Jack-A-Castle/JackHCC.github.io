<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python Skills, JackHCC">
    <meta name="description" content="Python实用技巧">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Python Skills | JackHCC</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my.css">
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="JackHCC" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-hopscotch.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">JackHCC</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/me.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">JackHCC</div>
        <div class="logo-desc">
            
            Make the world betterrrr!!!
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/JackHCC/JackHCC.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/JackHCC/JackHCC.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python Skills</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 30px;
        bottom: 146px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-10-02
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-11-10
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    19.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    86 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="90条写Python程序的建议"><a href="#90条写Python程序的建议" class="headerlink" title="90条写Python程序的建议"></a>90条写Python程序的建议</h1><h2 id="1-首先"><a href="#1-首先" class="headerlink" title="1. 首先"></a><strong>1. 首先</strong></h2><p>建议1、理解 Pythonic 概念—-详见 Python 中的《Python之禅》</p>
<p>建议2、编写 Pythonic 代码</p>
<p>（1）避免不规范代码，比如只用大小写区分变量、使用容易混淆的变量名、害怕过长变量名等。有时候长的变量名会使代码更加具有可读性。</p>
<p>（2）深入学习 Python 相关知识，比如语言特性、库特性等，比如Python演变过程等。深入学习一两个业内公认的 Pythonic 的代码库，比如Flask等。</p>
<p>建议3：理解 Python 与 C 的不同之处，比如缩进与 {}，单引号双引号，三元操作符？， Switch-Case 语句等。</p>
<p>建议4：在代码中适当添加注释</p>
<p>建议5：适当添加空行使代码布局更加合理</p>
<p>建议6：编写函数的 4 个原则</p>
<p>（1）函数设计要尽量短小，嵌套层次不宜过深</p>
<p>（2）函数声明应该做到合理、简单、易用</p>
<p>（3）函数参数设计应该考虑向下兼容</p>
<p>（4）一个函数只做一件事，尽量保证函数粒度的一致性</p>
<p>建议7：将常量集中在一个文件，且常量名尽量使用全大写字母</p>
<h2 id="2-编程惯用法"><a href="#2-编程惯用法" class="headerlink" title="2. 编程惯用法"></a><strong>2. 编程惯用法</strong></h2><p>建议8：利用 assert 语句来发现问题，但要注意，断言 assert 会影响效率</p>
<p>建议9：数据交换值时不推荐使用临时变量，而是直接 a, b = b, a</p>
<p>建议10：充分利用惰性计算（Lazy evaluation）的特性，从而避免不必要的计算</p>
<p>建议11：理解枚举替代实现的缺陷（最新版 Python 中已经加入了枚举特性）</p>
<p>建议12：不推荐使用 type 来进行类型检查，因为有些时候 type 的结果并不一定可靠。如果有需求，建议使用 isinstance 函数来代替</p>
<p>建议13：尽量将变量转化为浮点类型后再做除法（Python3 以后不用考虑）</p>
<p>建议14：警惕eval()函数的安全漏洞，有点类似于 SQL 注入</p>
<p>建议15：使用 enumerate() 同时获取序列迭代的索引和值</p>
<p>建议16：分清 == 和 is 的适用场景，特别是在比较字符串等不可变类型变量时（详见评论）</p>
<p>建议17：尽量使用 Unicode。在 Python2 中编码是很让人头痛的一件事，但 Python3 就不用过多考虑了</p>
<p>建议18：构建合理的包层次来管理 Module</p>
<h2 id="3-基础用法"><a href="#3-基础用法" class="headerlink" title="3. 基础用法"></a><strong>3. 基础用法</strong></h2><p>建议19：有节制的使用 from…import 语句，防止污染命名空间</p>
<p>建议20：优先使用 absolute import 来导入模块（Python3中已经移除了relative import）</p>
<p>建议21：i+=1 不等于 ++i，在 Python 中，++i 前边的加号仅表示正，不表示操作</p>
<p>建议22：习惯使用 with 自动关闭资源，特别是在文件读写中</p>
<p>建议23：使用 else 子句简化循环（异常处理）</p>
<p>建议24：遵循异常处理的几点基本原则</p>
<p>（1）注意异常的粒度，try 块中尽量少写代码</p>
<p>（2）谨慎使用单独的 except 语句，或 except Exception 语句，而是定位到具体异常</p>
<p>（3）注意异常捕获的顺序，在合适的层次处理异常</p>
<p>（4）使用更加友好的异常信息，遵守异常参数的规范</p>
<p>建议25：避免 finally 中可能发生的陷阱</p>
<p>建议26：深入理解 None，正确判断对象是否为空。</p>
<p>建议27：连接字符串应优先使用 join 函数，而不是+操作</p>
<p>建议28：格式化字符串时尽量使用 format 函数，而不是 % 形式</p>
<p>建议29：区别对待可变对象和不可变对象，特别是作为函数参数时</p>
<p>建议30：[], {}和()：一致的容器初始化形式。使用列表解析可以使代码更清晰，同时效率更高</p>
<p>建议31：函数传参数，既不是传值也不是传引用，而是传对象或者说对象的引用</p>
<p>建议32：警惕默认参数潜在的问题，特别是当默认参数为可变对象时</p>
<p>建议33：函数中慎用变长参数 args 和 kargs</p>
<p>（1）这种使用太灵活，从而使得函数签名不够清晰，可读性较差</p>
<p>（2）如果因为函数参数过多而是用变长参数简化函数定义，那么一般该函数可以重构</p>
<p>建议34：深入理解 str()和 repr() 的区别</p>
<p>（1）两者之间的目标不同：str 主要面向客户，其目的是可读性，返回形式为用户友好性和可读性都比较高的字符串形式；而 repr 是面向 Python 解释器或者说Python开发人员，其目的是准确性，其返回值表示 Python 解释器内部的定义</p>
<p>（2）在解释器中直接输入变量，默认调用repr函数，而print(var)默认调用str函数</p>
<p>（3）repr函数的返回值一般可以用eval函数来还原对象</p>
<p>（4）两者分别调用对象的内建函数 <strong>str</strong> ()和 <strong>repr</strong> ()</p>
<p>建议35：分清静态方法 staticmethod 和类方法 classmethod 的使用场景</p>
<h2 id="4-库的使用"><a href="#4-库的使用" class="headerlink" title="4. 库的使用"></a><strong>4. 库的使用</strong></h2><p>建议36：掌握字符串的基本用法</p>
<p>建议37：按需选择 sort() 和 sorted() 函数</p>
<p>​    sort() 是列表在就地进行排序，所以不能排序元组等不可变类型。</p>
<p>​    sorted() 可以排序任意的可迭代类型，同时不改变原变量本身。</p>
<p>建议38：使用copy模块深拷贝对象，区分浅拷贝（shallow copy）和深拷贝（deep copy）</p>
<p>建议39：使用 Counter 进行计数统计，Counter 是字典类的子类，在 collections 模块中</p>
<p>建议40：深入掌握 ConfigParse</p>
<p>建议41：使用 argparse 模块处理命令行参数</p>
<p>建议42：使用 pandas 处理大型 CSV 文件</p>
<p>​    Python 本身提供一个CSV文件处理模块，并提供reader、writer等函数。</p>
<p>​    Pandas 可提供分块、合并处理等，适用于数据量大的情况，且对二维数据操作更方便。</p>
<p>建议43：使用 ElementTree解析XML</p>
<p>建议44：理解模块 pickle 的优劣</p>
<p>​    优势：接口简单、各平台通用、支持的数据类型广泛、扩展性强</p>
<p>​    劣势：不保证数据操作的原子性、存在安全问题、不同语言之间不兼容</p>
<p>建议45：序列化的另一个选择 JSON 模块：load 和 dump 操作</p>
<p>建议46：使用 traceback 获取栈信息</p>
<p>建议47：使用 logging 记录日志信息</p>
<p>建议48：使用 threading 模块编写多线程程序</p>
<p>建议49：使用 Queue 模块使多线程编程更安全</p>
<h2 id="5-设计模式"><a href="#5-设计模式" class="headerlink" title="5. 设计模式"></a><strong>5. 设计模式</strong></h2><p>建议50：利用模块实现单例模式</p>
<p>建议51：用 mixin 模式让程序更加灵活</p>
<p>建议52：用发布-订阅模式实现松耦合</p>
<p>建议53：用状态模式美化代码</p>
<h2 id="6-内部机制"><a href="#6-内部机制" class="headerlink" title="6. 内部机制"></a><strong>6. 内部机制</strong></h2><p>建议54：理解 build-in 对象</p>
<p>建议55： <strong>init</strong> ()不是构造方法，理解 <strong>new</strong> ()与它之间的区别</p>
<p>建议56：理解变量的查找机制，即作用域</p>
<p>​    局部作用域</p>
<p>​    全局作用域</p>
<p>​    嵌套作用域</p>
<p>​    内置作用域</p>
<p>建议57：为什么需要self参数</p>
<p>建议58：理解 MRO（方法解析顺序）与多继承</p>
<p>建议59：理解描述符机制</p>
<p>建议60：区别 <strong>getattr</strong> ()与 <strong>getattribute</strong> ()方法之间的区别</p>
<p>建议61：使用更安全的 property</p>
<p>建议62：掌握元类 metaclass</p>
<p>建议63：熟悉 Python 对象协议</p>
<p>建议64：利用操作符重载实现中缀语法</p>
<p>建议65：熟悉 Python 的迭代器协议</p>
<p>建议66：熟悉 Python 的生成器</p>
<p>建议67：基于生成器的协程和 greenlet，理解协程、多线程、多进程之间的区别</p>
<p>建议68：理解 GIL 的局限性</p>
<p>建议69：对象的管理和垃圾回收</p>
<h2 id="7-使用工具辅助项目开发"><a href="#7-使用工具辅助项目开发" class="headerlink" title="7. 使用工具辅助项目开发"></a><strong>7. 使用工具辅助项目开发</strong></h2><p>建议70：从 PyPI 安装第三方包</p>
<p>建议71：使用 pip 和 yolk 安装、管理包</p>
<p>建议72：做 paster 创建包</p>
<p>建议73：理解单元测试的概念</p>
<p>建议74：为包编写单元测试</p>
<p>建议75：利用测试驱动开发（TDD）提高代码的可测性</p>
<p>建议76：使用 Pylint 检查代码风格</p>
<p>​    代码风格审查</p>
<p>​    代码错误检查</p>
<p>​    发现重复以及不合理的代码，方便重构</p>
<p>​    高度的可配置化和可定制化</p>
<p>​    支持各种 IDE 和编辑器的集成</p>
<p>​    能够基于 Python 代码生成 UML 图</p>
<p>​    能够与 Jenkins 等持续集成工具相结合，支持自动代码审查</p>
<p>建议77：进行高效的代码审查</p>
<p>建议78：将包发布到 PyPI</p>
<h2 id="8-性能剖析与优化"><a href="#8-性能剖析与优化" class="headerlink" title="8. 性能剖析与优化"></a><strong>8. 性能剖析与优化</strong></h2><p>建议79：了解代码优化的基本原则</p>
<p>建议80：借助性能优化工具</p>
<p>建议81：利用 cProfile 定位性能瓶颈</p>
<p>建议82：使用 memory_profiler 和 objgraph 剖析内存使用</p>
<p>建议83：努力降低算法复杂度</p>
<p>建议84：掌握循环优化的基本技巧</p>
<p>​    减少循环内部的计算</p>
<p>​    将显式循环改为隐式循环，当然这会牺牲代码的可读性</p>
<p>​    在循环中尽量引用局部变量</p>
<p>​    关注内层嵌套循环</p>
<p>建议85：使用生成器提高效率</p>
<p>建议86：使用不同的数据结构优化性能</p>
<p>建议87：充分利用 set 的优势</p>
<p>建议88：使用 multiprocessing 模块克服 GIL 缺陷</p>
<p>建议89：使用线程池提高效率</p>
<p>建议90：使用 Cythonb 编写扩展模块</p>
<h1 id="14种漂亮短代码实现"><a href="#14种漂亮短代码实现" class="headerlink" title="14种漂亮短代码实现"></a>14种漂亮短代码实现</h1><h2 id="1-”二维列表”"><a href="#1-”二维列表”" class="headerlink" title="1.”二维列表”"></a><strong><em>1.”二维列表”</em></strong></h2><p><strong>解读：</strong>根据给定的长和宽，以及初始值，返回一个二维列表。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">initialize_2d_list</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">,</span> val<span class="token operator">=</span>None<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>val <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> initialize_2d_list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>None<span class="token punctuation">,</span> None<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>None<span class="token punctuation">,</span> None<span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token operator">>></span><span class="token operator">></span> initialize_2d_list<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="2-函数切割数组"><a href="#2-函数切割数组" class="headerlink" title="2.函数切割数组"></a><strong><em>2.函数切割数组</em></strong></h2><p><strong>解读：</strong>使用一个函数应用到一个数组的每个元素上，使得这个数组被切割成两个部分。如果说，函数应用到元素上返回的值为True，则该元素被切割到第一部分，否则分为第二部分。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">bifurcate_by</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> lst <span class="token keyword">if</span> fn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> lst <span class="token keyword">if</span> <span class="token operator">not</span> fn<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> bifurcate_by<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'beep'</span><span class="token punctuation">,</span> <span class="token string">'boop'</span><span class="token punctuation">,</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'beep'</span><span class="token punctuation">,</span> <span class="token string">'boop'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="3-”交集点”"><a href="#3-”交集点”" class="headerlink" title="3.”交集点”"></a><strong><em>3.”交集点”</em></strong></h2><p><strong>解读：</strong> 两个数组在被一个函数应用后，从第一个数组中提取出共有的元素的<strong>原元素</strong>组成一个新的数组。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">intersection_by</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _b <span class="token operator">=</span> set<span class="token punctuation">(</span>map<span class="token punctuation">(</span>fn<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>item <span class="token keyword">for</span> item <span class="token keyword">in</span> a <span class="token keyword">if</span> fn<span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token keyword">in</span> _b<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> math <span class="token keyword">import</span> floor
<span class="token operator">>></span><span class="token operator">></span> intersection_by<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2.1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2.3</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>floor<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">2.1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="4-最大值下标"><a href="#4-最大值下标" class="headerlink" title="4.最大值下标"></a><strong><em>4.最大值下标</em></strong></h2><p><strong>解读：</strong>返回数组中最大值的下标。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">max_element_index</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span>index<span class="token punctuation">(</span>max<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> max_element_index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="5-数组对称差"><a href="#5-数组对称差" class="headerlink" title="5.数组对称差"></a><strong><em>5.数组对称差</em></strong></h2><p><strong>解读：</strong>找出两个数组中不同的元素，并合成为一个新的数组。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">symmetric_difference</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _a<span class="token punctuation">,</span> _b <span class="token operator">=</span> set<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> set<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>item <span class="token keyword">for</span> item <span class="token keyword">in</span> a <span class="token keyword">if</span> item <span class="token operator">not</span> <span class="token keyword">in</span> _b<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span>item <span class="token keyword">for</span> item <span class="token keyword">in</span> b <span class="token keyword">if</span> item <span class="token operator">not</span> <span class="token keyword">in</span> _a<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> symmetric_difference<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="6-”夹数”"><a href="#6-”夹数”" class="headerlink" title="6.”夹数”"></a><strong><em>6.”夹数”</em></strong></h2><p><strong>解读：</strong>如果 num 落在一段数字范围内，则返回num，否则返回离这个范围最近的边界：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">clamp_number</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> max<span class="token punctuation">(</span>min<span class="token punctuation">(</span>num<span class="token punctuation">,</span> max<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>min<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span> clamp_number<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token number">3</span>

<span class="token operator">>></span> clamp_number<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token number">7</span>

<span class="token operator">>></span> clamp_number<span class="token punctuation">(</span><span class="token number">124</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="7-键值映射"><a href="#7-键值映射" class="headerlink" title="7.键值映射"></a><strong><em>7.键值映射</em></strong></h2><p><strong>解读：</strong>使用对象的键重新创建对象，并运行函数为每个对象的键创建值。<br>使用dict.keys()遍历对象的键， 通过函数生成一个新的值。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">map_values</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    ret <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> obj<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        ret<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> fn<span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> ret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token string">'fred'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'user'</span><span class="token punctuation">:</span> <span class="token string">'fred'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token string">'pebbles'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'user'</span><span class="token punctuation">:</span> <span class="token string">'pebbles'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token operator">>></span><span class="token operator">></span> map_values<span class="token punctuation">(</span>users<span class="token punctuation">,</span> <span class="token keyword">lambda</span> u <span class="token punctuation">:</span> u<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token string">'fred'</span><span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">'pebbles'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span>

<span class="token operator">>></span><span class="token operator">></span> map_values<span class="token punctuation">(</span>users<span class="token punctuation">,</span> <span class="token keyword">lambda</span> u <span class="token punctuation">:</span> u<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token string">'fred'</span><span class="token punctuation">:</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token string">'pebbles'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-大小写转换"><a href="#8-大小写转换" class="headerlink" title="8.大小写转换"></a><strong><em>8.大小写转换</em></strong></h2><p><strong>解读：</strong> 将英文单词的首字母大写改为小写。upper_rest参数：设定是否将除首字母外的其他字母大小写转换。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">decapitalize</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> upper_rest<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> upper_rest <span class="token keyword">else</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> decapitalize<span class="token punctuation">(</span><span class="token string">'FooBar'</span><span class="token punctuation">)</span>
<span class="token string">'fooBar'</span>

<span class="token operator">>></span><span class="token operator">></span> decapitalize<span class="token punctuation">(</span><span class="token string">'FooBar'</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token string">'fOOBAR'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="9-同键求和"><a href="#9-同键求和" class="headerlink" title="9.同键求和"></a><strong><em>9.同键求和</em></strong></h2><p><strong>解读：</strong>对列表中的各个字典里相同键值的对象求和。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_by</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">(</span>map<span class="token punctuation">(</span>fn<span class="token punctuation">,</span>lst<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> sum_by<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token string">'n'</span><span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'n'</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">'n'</span><span class="token punctuation">:</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">lambda</span> v <span class="token punctuation">:</span> v<span class="token punctuation">[</span><span class="token string">'n'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">14</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="10-一行代码求出现次数"><a href="#10-一行代码求出现次数" class="headerlink" title="10.一行代码求出现次数"></a><strong><em>10.一行代码求出现次数</em></strong></h2><p><strong>解读：</strong>求出列表中某个数出现的次数和。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">count_occurrences</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> lst <span class="token keyword">if</span> x <span class="token operator">==</span> val <span class="token operator">and</span> type<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> type<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> count_occurrences<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="11-数组再分组"><a href="#11-数组再分组" class="headerlink" title="11.数组再分组"></a><strong><em>11.数组再分组</em></strong></h2><p>对一个列表根据所需要的大小进行细分：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010131639046.png" alt=""></p>
<p>效果如下：</p>
<pre class="line-numbers language-python"><code class="language-python">chunk<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [[1,2],[3,4],5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>return中，map的第二个参数是一个列表，map会将列表中的每一个元素用于调用第一个参数的 function 函数，返回包含每次 function 函数返回值的新列表。</p>
<h2 id="12-数字转数组"><a href="#12-数字转数组" class="headerlink" title="12.数字转数组"></a><strong><em>12.数字转数组</em></strong></h2><p>同样是一则关于map的应用，将整形数字拆分到数组中：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">digitize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> list<span class="token punctuation">(</span>map<span class="token punctuation">(</span>int<span class="token punctuation">,</span> str<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>效果如下：</p>
<pre class="line-numbers language-python"><code class="language-python">digitize<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>它将整形数字n转化为字符串后，还自动对该字符串进行了序列化分割，最后将元素应用到map的第一个参数中，转化为整形后返回。</p>
<h2 id="13-非递归斐波那契"><a href="#13-非递归斐波那契" class="headerlink" title="13.非递归斐波那契"></a><strong><em>13.非递归斐波那契</em></strong></h2><p>还记得菲波那切数列吗，前两个数的和为第三个数的值，如0、1、1、2、3、5、8、13….</p>
<p>如果使用递归来实现这个算法，效率非常低下，我们使用非递归的方式实现：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010131705278.png" alt=""></p>
<p>效果如下：</p>
<pre class="line-numbers language-python"><code class="language-python">fibonacci<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [0, 1, 1, 2, 3, 5, 8, 13]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这样看是很简单，但是思维要绕的过来哦。</p>
<h2 id="14-下划线化字符串"><a href="#14-下划线化字符串" class="headerlink" title="14.下划线化字符串"></a><strong><em>14.下划线化字符串</em></strong></h2><p>批量统一变量名称或者字符串格式。</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010131722774.png" alt=""></p>
<p>效果如下：</p>
<pre class="line-numbers language-python"><code class="language-python">snake<span class="token punctuation">(</span><span class="token string">'camelCase'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 'camel_case'</span>

snake<span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 'some_text'</span>

snake<span class="token punctuation">(</span><span class="token string">'some-mixed_string With spaces_underscores-and-hyphens'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 'some_mixed_string_with_spaces_underscores_and_hyphens'</span>

snake<span class="token punctuation">(</span><span class="token string">'AllThe-small Things'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># "all_the_small_things"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>re.sub用于替换字符串中的匹配项。这里其实是一个“套娃”用法，一开始可能不太好理解，需要慢慢理解。</p>
<p><strong>第一个替换</strong>，是将s字符串中，使用’ ‘替换’-‘。</p>
<p><strong>第二个替换</strong>，是针对第一个替换后的字符串，对符合’([A-Z]+)’正则表达式的字符区段（全大写的单词）用r’ \1’替换，也就是用空格区分开每一个单词。</p>
<p><strong>第三个替换</strong>，是对第二个替换后的字符串，对符合’([A-Z][a-z]+)’正则表达式的字符区段（也就是首字母大写，其他字母小写的词语）用r’ \1’替换，也是将单词用空格分隔开。</p>
<h1 id="8种定时任务方案实现"><a href="#8种定时任务方案实现" class="headerlink" title="8种定时任务方案实现"></a>8种定时任务方案实现</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><p>利用while True: + sleep()实现定时任务</p>
</li>
<li><p>使用Timeloop库运行定时任务</p>
</li>
<li><p>利用threading.Timer实现定时任务</p>
</li>
<li><p>利用内置模块sched实现定时任务</p>
</li>
<li><p>利用调度模块schedule实现定时任务</p>
</li>
<li><p>利用任务框架APScheduler实现定时任务</p>
</li>
<li><ul>
<li>Job 作业</li>
<li>Trigger 触发器</li>
<li>Executor 执行器</li>
<li>Jobstore 作业存储</li>
<li>Event 事件</li>
<li>调度器</li>
<li>APScheduler中的重要概念</li>
<li>Scheduler的工作流程</li>
</ul>
</li>
<li><p>使用分布式消息系统Celery实现定时任务</p>
</li>
<li><p>使用数据流工具Apache Airflow实现定时任务</p>
</li>
<li><ul>
<li>Airflow 产生的背景</li>
<li>Airflow 核心概念</li>
<li>Airflow 的架构</li>
</ul>
</li>
</ul>
<h2 id="利用while-True-sleep-实现定时任务"><a href="#利用while-True-sleep-实现定时任务" class="headerlink" title="利用while True: + sleep()实现定时任务"></a>利用while True: + sleep()实现定时任务</h2><p>位于 time 模块中的 sleep(secs) 函数，可以实现令当前执行的线程暂停 secs 秒后再继续执行。所谓暂停，即令当前线程进入阻塞状态，当达到 sleep() 函数规定的时间后，再由阻塞状态转为就绪状态，等待 CPU 调度。</p>
<p>基于这样的特性我们可以通过while死循环+sleep()的方式实现简单的定时任务。</p>
<p>代码示例：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> datetime
<span class="token keyword">import</span> time
<span class="token keyword">def</span> <span class="token function">time_printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ts <span class="token operator">=</span> now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do func time :'</span><span class="token punctuation">,</span> ts<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">loop_monitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        time_printer<span class="token punctuation">(</span><span class="token punctuation">)</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 暂停5秒</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    loop_monitor<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>主要缺点：</p>
<ul>
<li>只能设定间隔，不能指定具体的时间，比如每天早上8:00</li>
<li>sleep 是一个阻塞函数，也就是说 sleep 这一段时间，程序什么也不能操作。</li>
</ul>
<h2 id="使用Timeloop库运行定时任务"><a href="#使用Timeloop库运行定时任务" class="headerlink" title="使用Timeloop库运行定时任务"></a>使用Timeloop库运行定时任务</h2><p>Timeloop是一个库，可用于运行多周期任务。这是一个简单的库，它使用decorator模式在线程中运行标记函数。</p>
<p>示例代码：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time
<span class="token keyword">from</span> timeloop <span class="token keyword">import</span> Timeloop
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> timedelta
tl <span class="token operator">=</span> Timeloop<span class="token punctuation">(</span><span class="token punctuation">)</span>
@tl<span class="token punctuation">.</span>job<span class="token punctuation">(</span>interval<span class="token operator">=</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">sample_job_every_2s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"2s job current time : {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
@tl<span class="token punctuation">.</span>job<span class="token punctuation">(</span>interval<span class="token operator">=</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">sample_job_every_5s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"5s job current time : {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
@tl<span class="token punctuation">.</span>job<span class="token punctuation">(</span>interval<span class="token operator">=</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">sample_job_every_10s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">"10s job current time : {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="利用threading-Timer实现定时任务"><a href="#利用threading-Timer实现定时任务" class="headerlink" title="利用threading.Timer实现定时任务"></a>利用threading.Timer实现定时任务</h2><p>threading 模块中的 Timer 是一个非阻塞函数，比 sleep 稍好一点，timer最基本理解就是定时器，我们可以启动多个定时任务，这些定时器任务是异步执行，所以不存在等待顺序执行问题。</p>
<p>Timer(interval, function, args=[ ], kwargs={ })</p>
<ul>
<li>interval: 指定的时间</li>
<li>function: 要执行的方法</li>
<li>args/kwargs: 方法的参数</li>
</ul>
<p>代码示例：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> threading
<span class="token keyword">def</span> <span class="token function">func1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true">#Do something</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Do something'</span><span class="token punctuation">)</span>
    a<span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'当前线程数为{}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>threading<span class="token punctuation">.</span>activeCount<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> a<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span>
    t<span class="token operator">=</span>threading<span class="token punctuation">.</span>Timer<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>func1<span class="token punctuation">,</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>备注：Timer只能执行一次，这里需要循环调用，否则只能执行一次</p>
<h2 id="利用内置模块sched实现定时任务"><a href="#利用内置模块sched实现定时任务" class="headerlink" title="利用内置模块sched实现定时任务"></a>利用内置模块sched实现定时任务</h2><p>sched模块实现了一个通用事件调度器，在调度器类使用一个延迟函数等待特定的时间，执行任务。同时支持多线程应用程序，在每个任务执行后会立刻调用延时函数，以确保其他线程也能执行。</p>
<p>class sched.scheduler(timefunc, delayfunc)这个类定义了调度事件的通用接口，它需要外部传入两个参数，timefunc是一个没有参数的返回时间类型数字的函数(常用使用的如time模块里面的time)，delayfunc应该是一个需要一个参数来调用、与timefunc的输出兼容、并且作用为延迟多个时间单位的函数(常用的如time模块的sleep)。</p>
<p>代码示例：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> datetime
<span class="token keyword">import</span> time
<span class="token keyword">import</span> sched
<span class="token keyword">def</span> <span class="token function">time_printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ts <span class="token operator">=</span> now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'do func time :'</span><span class="token punctuation">,</span> ts<span class="token punctuation">)</span>
    loop_monitor<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">loop_monitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    s <span class="token operator">=</span> sched<span class="token punctuation">.</span>scheduler<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">,</span> time<span class="token punctuation">.</span>sleep<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 生成调度器</span>
    s<span class="token punctuation">.</span>enter<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> time_printer<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    s<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    loop_monitor<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>scheduler对象主要方法:</p>
<ul>
<li>enter(delay, priority, action, argument)，安排一个事件来延迟delay个时间单位。</li>
<li>cancel(event)：从队列中删除事件。如果事件不是当前队列中的事件，则该方法将跑出一个ValueError。</li>
<li>run()：运行所有预定的事件。这个函数将等待(使用传递给构造函数的delayfunc()函数)，然后执行事件，直到不再有预定的事件。</li>
</ul>
<p>个人点评：比threading.Timer更好，不需要循环调用。</p>
<h2 id="利用调度模块schedule实现定时任务"><a href="#利用调度模块schedule实现定时任务" class="headerlink" title="利用调度模块schedule实现定时任务"></a>利用调度模块schedule实现定时任务</h2><p>schedule是一个第三方轻量级的任务调度模块，可以按照秒，分，小时，日期或者自定义事件执行时间。schedule允许用户使用简单、人性化的语法以预定的时间间隔定期运行Python函数(或其它可调用函数)。</p>
<p>先来看代码，是不是不看文档就能明白什么意思？</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> schedule
<span class="token keyword">import</span> time
<span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I'm working..."</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minutes<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hour<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>day<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">"10:30"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minutes<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>monday<span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>wednesday<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">"13:15"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minute<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">":17"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>装饰器：通过 @repeat() 装饰静态方法</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time
<span class="token keyword">from</span> schedule <span class="token keyword">import</span> every<span class="token punctuation">,</span> repeat<span class="token punctuation">,</span> run_pending
@repeat<span class="token punctuation">(</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'working...'</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>传递参数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'Alice'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'Bob'</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>装饰器同样能传递参数：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> schedule <span class="token keyword">import</span> every<span class="token punctuation">,</span> repeat<span class="token punctuation">,</span> run_pending
@repeat<span class="token punctuation">(</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span>
@repeat<span class="token punctuation">(</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minute<span class="token punctuation">,</span> <span class="token string">'Mars'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span>planet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> planet<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>取消任务：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> schedule
i <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">def</span> <span class="token function">some_task</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> i
    i <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">:</span>
        schedule<span class="token punctuation">.</span>cancel_job<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'cancel job'</span><span class="token punctuation">)</span>
        exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
job <span class="token operator">=</span> schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>do<span class="token punctuation">(</span>some_task<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行一次任务：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time
<span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">job_that_executes_once</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> schedule<span class="token punctuation">.</span>CancelJob
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minute<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">':34'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job_that_executes_once<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>根据标签检索任务：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 检索所有任务：schedule.get_jobs()</span>
<span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello {}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>day<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Andrea'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'daily-tasks'</span><span class="token punctuation">,</span> <span class="token string">'friend'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hour<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'hourly-tasks'</span><span class="token punctuation">,</span> <span class="token string">'friend'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hour<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Monica'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'hourly-tasks'</span><span class="token punctuation">,</span> <span class="token string">'customer'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>day<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Derek'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'daily-tasks'</span><span class="token punctuation">,</span> <span class="token string">'guest'</span><span class="token punctuation">)</span>
friends <span class="token operator">=</span> schedule<span class="token punctuation">.</span>get_jobs<span class="token punctuation">(</span><span class="token string">'friend'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>friends<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>根据标签取消任务：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 取消所有任务：schedule.clear()</span>
<span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello {}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> name <span class="token operator">==</span> <span class="token string">'Cancel'</span><span class="token punctuation">:</span>
        schedule<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token string">'second-tasks'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'cancel second-tasks'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Andrea'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'second-tasks'</span><span class="token punctuation">,</span> <span class="token string">'friend'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'John'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'second-tasks'</span><span class="token punctuation">,</span> <span class="token string">'friend'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hour<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Monica'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'hourly-tasks'</span><span class="token punctuation">,</span> <span class="token string">'customer'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>greet<span class="token punctuation">,</span> <span class="token string">'Cancel'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tag<span class="token punctuation">(</span><span class="token string">'daily-tasks'</span><span class="token punctuation">,</span> <span class="token string">'guest'</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行任务到某时间：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> schedule
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span> timedelta<span class="token punctuation">,</span> time
<span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'working...'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>until<span class="token punctuation">(</span><span class="token string">'23:59'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 今天23:59停止</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>until<span class="token punctuation">(</span><span class="token string">'2030-01-01 18:30'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2030-01-01 18:30停止</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>until<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 8小时后停止</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>until<span class="token punctuation">(</span>time<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 今天23:59:59停止</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">.</span>until<span class="token punctuation">(</span>datetime<span class="token punctuation">(</span><span class="token number">2030</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2030-01-01 18:30停止</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>马上运行所有任务（主要用于测试）：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'working...'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">job1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Hello...'</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>monday<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">'12:40'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tuesday<span class="token punctuation">.</span>at<span class="token punctuation">(</span><span class="token string">'16:40'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>do<span class="token punctuation">(</span>job1<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>run_all<span class="token punctuation">(</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>run_all<span class="token punctuation">(</span>delay_seconds<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 任务间延迟3秒</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>并行运行：使用 Python 内置队列实现：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> threading
<span class="token keyword">import</span> time
<span class="token keyword">import</span> schedule
<span class="token keyword">def</span> <span class="token function">job1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I'm running on thread %s"</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">job2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I'm running on thread %s"</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">job3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I'm running on thread %s"</span> <span class="token operator">%</span> threading<span class="token punctuation">.</span>current_thread<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">run_threaded</span><span class="token punctuation">(</span>job_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
    job_thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>job_func<span class="token punctuation">)</span>
    job_thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>run_threaded<span class="token punctuation">,</span> job1<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>run_threaded<span class="token punctuation">,</span> job2<span class="token punctuation">)</span>
schedule<span class="token punctuation">.</span>every<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seconds<span class="token punctuation">.</span>do<span class="token punctuation">(</span>run_threaded<span class="token punctuation">,</span> job3<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    schedule<span class="token punctuation">.</span>run_pending<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="利用任务框架APScheduler实现定时任务"><a href="#利用任务框架APScheduler实现定时任务" class="headerlink" title="利用任务框架APScheduler实现定时任务"></a>利用任务框架APScheduler实现定时任务</h2><p>APScheduler（advanceded python scheduler）基于Quartz的一个Python定时任务框架，实现了Quartz的所有功能，使用起来十分方便。提供了基于日期、固定时间间隔以及crontab类型的任务，并且可以持久化任务。基于这些功能，我们可以很方便的实现一个Python定时任务系统。</p>
<p>它有以下三个特点：</p>
<ul>
<li>类似于 Liunx Cron 的调度程序(可选的开始/结束时间)</li>
<li>基于时间间隔的执行调度(周期性调度，可选的开始/结束时间)</li>
<li>一次性执行任务(在设定的日期/时间运行一次任务)</li>
</ul>
<p>APScheduler有四种组成部分：</p>
<ul>
<li><strong>触发器(trigger)</strong> 包含调度逻辑，每一个作业有它自己的触发器，用于决定接下来哪一个作业会运行。除了他们自己初始配置意外，触发器完全是无状态的。</li>
<li><strong>作业存储(job store)</strong> 存储被调度的作业，默认的作业存储是简单地把作业保存在内存中，其他的作业存储是将作业保存在数据库中。一个作业的数据讲在保存在持久化作业存储时被序列化，并在加载时被反序列化。调度器不能分享同一个作业存储。</li>
<li><strong>执行器(executor)</strong> 处理作业的运行，他们通常通过在作业中提交制定的可调用对象到一个线程或者进城池来进行。当作业完成时，执行器将会通知调度器。</li>
<li><strong>调度器(scheduler)</strong> 是其他的组成部分。你通常在应用只有一个调度器，应用的开发者通常不会直接处理作业存储、调度器和触发器，相反，调度器提供了处理这些的合适的接口。配置作业存储和执行器可以在调度器中完成，例如添加、修改和移除作业。通过配置executor、jobstore、trigger，使用线程池(ThreadPoolExecutor默认值20)或进程池(ProcessPoolExecutor 默认值5)并且默认最多3个(max_instances)任务实例同时运行，实现对job的增删改查等调度控制</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010115751409.png" alt=""></p>
<p>示例代码：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> apscheduler<span class="token punctuation">.</span>schedulers<span class="token punctuation">.</span>blocking <span class="token keyword">import</span> BlockingScheduler
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime
<span class="token comment" spellcheck="true"># 输出时间</span>
<span class="token keyword">def</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># BlockingScheduler</span>
sched <span class="token operator">=</span> BlockingScheduler<span class="token punctuation">(</span><span class="token punctuation">)</span>
sched<span class="token punctuation">.</span>add_job<span class="token punctuation">(</span>my_job<span class="token punctuation">,</span> <span class="token string">'interval'</span><span class="token punctuation">,</span> seconds<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> id<span class="token operator">=</span><span class="token string">'my_job_id'</span><span class="token punctuation">)</span>
sched<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="APScheduler中的重要概念"><a href="#APScheduler中的重要概念" class="headerlink" title="APScheduler中的重要概念"></a>APScheduler中的重要概念</h3><h4 id="Job-作业"><a href="#Job-作业" class="headerlink" title="Job 作业"></a>Job 作业</h4><p>Job作为APScheduler最小执行单位。创建Job时指定执行的函数，函数中所需参数，Job执行时的一些设置信息。</p>
<p>构建说明：</p>
<ul>
<li>id：指定作业的唯一ID</li>
<li>name：指定作业的名字</li>
<li>trigger：apscheduler定义的触发器，用于确定Job的执行时间，根据设置的trigger规则，计算得到下次执行此job的时间， 满足时将会执行</li>
<li>executor：apscheduler定义的执行器，job创建时设置执行器的名字，根据字符串你名字到scheduler获取到执行此job的 执行器，执行job指定的函数</li>
<li>max_instances：执行此job的最大实例数，executor执行job时，根据job的id来计算执行次数，根据设置的最大实例数来确定是否可执行</li>
<li>next_run_time：Job下次的执行时间，创建Job时可以指定一个时间[datetime],不指定的话则默认根据trigger获取触发时间</li>
<li>misfire_grace_time：Job的延迟执行时间，例如Job的计划执行时间是21:00:00，但因服务重启或其他原因导致21:00:31才执行，如果设置此key为40,则该job会继续执行，否则将会丢弃此job</li>
<li>coalesce：Job是否合并执行，是一个bool值。例如scheduler停止20s后重启启动，而job的触发器设置为5s执行一次，因此此job错过了4个执行时间，如果设置为是，则会合并到一次执行，否则会逐个执行</li>
<li>func：Job执行的函数</li>
<li>args：Job执行函数需要的位置参数</li>
<li>kwargs：Job执行函数需要的关键字参数</li>
</ul>
<h4 id="Trigger-触发器"><a href="#Trigger-触发器" class="headerlink" title="Trigger 触发器"></a>Trigger 触发器</h4><p>Trigger绑定到Job，在scheduler调度筛选Job时，根据触发器的规则计算出Job的触发时间，然后与当前时间比较确定此Job是否会被执行，总之就是根据trigger规则计算出下一个执行时间。</p>
<p>目前APScheduler支持触发器：</p>
<ul>
<li>指定时间的DateTrigger</li>
<li>指定间隔时间的IntervalTrigger</li>
<li>像Linux的crontab一样的CronTrigger。</li>
</ul>
<p><strong>触发器参数：date</strong></p>
<p>date定时，作业只执行一次。</p>
<ul>
<li>run_date (datetime|str) – the date/time to run the job at</li>
<li>timezone (datetime.tzinfo|str) – time zone for run_date if it doesn’t have one already</li>
</ul>
<pre><code>sched.add_job(my_job, 'date', run_date=date(2009, 11, 6), args=['text'])
sched.add_job(my_job, 'date', run_date=datetime(2019, 7, 6, 16, 30, 5), args=['text'])</code></pre><p><strong>触发器参数：interval</strong></p>
<p>interval间隔调度</p>
<ul>
<li>weeks (int) –  间隔几周</li>
<li>days (int) –  间隔几天</li>
<li>hours (int) –  间隔几小时</li>
<li>minutes (int) –  间隔几分钟</li>
<li>seconds (int) –  间隔多少秒</li>
<li>start_date (datetime|str) –  开始日期</li>
<li>end_date (datetime|str) –  结束日期</li>
<li>timezone (datetime.tzinfo|str) –  时区</li>
</ul>
<pre><code>sched.add_job(job_function, 'interval', hours=2)</code></pre><p><strong>触发器参数：cron</strong></p>
<p>cron调度</p>
<ul>
<li>(int|str) 表示参数既可以是int类型，也可以是str类型</li>
<li>(datetime | str) 表示参数既可以是datetime类型，也可以是str类型</li>
<li>year (int|str) – 4-digit year -（表示四位数的年份，如2008年）</li>
<li>month (int|str) – month (1-12) -（表示取值范围为1-12月）</li>
<li>day (int|str) – day of the (1-31) -（表示取值范围为1-31日）</li>
<li>week (int|str) – ISO week (1-53) -（格里历2006年12月31日可以写成2006年-W52-7（扩展形式）或2006W527（紧凑形式））</li>
<li>day_of_week (int|str) – number or name of weekday (0-6 or mon,tue,wed,thu,fri,sat,sun) – （表示一周中的第几天，既可以用0-6表示也可以用其英语缩写表示）</li>
<li>hour (int|str) – hour (0-23) – （表示取值范围为0-23时）</li>
<li>minute (int|str) – minute (0-59) – （表示取值范围为0-59分）</li>
<li>second (int|str) – second (0-59) – （表示取值范围为0-59秒）</li>
<li>start_date (datetime|str) – earliest possible date/time to trigger on (inclusive) – （表示开始时间）</li>
<li>end_date (datetime|str) – latest possible date/time to trigger on (inclusive) – （表示结束时间）</li>
<li>timezone (datetime.tzinfo|str) – time zone to use for the date/time calculations (defaults to scheduler timezone) -（表示时区取值）</li>
</ul>
<p>CronTrigger可用的表达式：</p>
<table>
<thead>
<tr>
<th align="center">表达式</th>
<th align="center">参数类型</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">*</td>
<td align="center">所有</td>
<td align="center">通配符。例：minutes=*即每分钟触发</td>
</tr>
<tr>
<td align="center">* / a</td>
<td align="center">所有</td>
<td align="center">每隔时长a执行一次。例：minutes=”* / 3″ 即每隔3分钟执行一次</td>
</tr>
<tr>
<td align="center">a – b</td>
<td align="center">所有</td>
<td align="center">a – b的范围内触发。例：minutes=“2-5”。即2到5分钟内每分钟执行一次</td>
</tr>
<tr>
<td align="center">a – b / c</td>
<td align="center">所有</td>
<td align="center">a – b范围内，每隔时长c执行一次。</td>
</tr>
<tr>
<td align="center">xth y</td>
<td align="center">日</td>
<td align="center">第几个星期几触发。x为第几个，y为星期几</td>
</tr>
<tr>
<td align="center">last x</td>
<td align="center">日</td>
<td align="center">一个月中，最后一个星期的星期几触发</td>
</tr>
<tr>
<td align="center">last</td>
<td align="center">日</td>
<td align="center">一个月中的最后一天触发</td>
</tr>
<tr>
<td align="center">x, y, z</td>
<td align="center">所有</td>
<td align="center">组合表达式，可以组合确定值或上述表达式</td>
</tr>
</tbody></table>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 6-8,11-12月第三个周五 00:00, 01:00, 02:00, 03:00运行</span>
sched<span class="token punctuation">.</span>add_job<span class="token punctuation">(</span>job_function<span class="token punctuation">,</span> <span class="token string">'cron'</span><span class="token punctuation">,</span> month<span class="token operator">=</span><span class="token string">'6-8,11-12'</span><span class="token punctuation">,</span> day<span class="token operator">=</span><span class="token string">'3rd fri'</span><span class="token punctuation">,</span> hour<span class="token operator">=</span><span class="token string">'0-3'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 每周一到周五运行 直到2024-05-30 00:00:00</span>
sched<span class="token punctuation">.</span>add_job<span class="token punctuation">(</span>job_function<span class="token punctuation">,</span> <span class="token string">'cron'</span><span class="token punctuation">,</span> day_of_week<span class="token operator">=</span><span class="token string">'mon-fri'</span><span class="token punctuation">,</span> hour<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> minute<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> end_date<span class="token operator">=</span><span class="token string">'2024-05-30'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Executor-执行器"><a href="#Executor-执行器" class="headerlink" title="Executor 执行器"></a>Executor 执行器</h4><p>Executor在scheduler中初始化，另外也可通过scheduler的add_executor动态添加Executor。每个executor都会绑定一个alias，这个作为唯一标识绑定到Job，在实际执行时会根据Job绑定的executor找到实际的执行器对象，然后根据执行器对象执行Job。</p>
<p>Executor的种类会根据不同的调度来选择，如果选择AsyncIO作为调度的库，那么选择AsyncIOExecutor，如果选择tornado作为调度的库，选择TornadoExecutor，如果选择启动进程作为调度，选择ThreadPoolExecutor或者ProcessPoolExecutor都可以。</p>
<p>Executor的选择需要根据实际的scheduler来选择不同的执行器。目前APScheduler支持的Executor：</p>
<ul>
<li>executors.asyncio：同步io，阻塞</li>
<li>executors.gevent：io多路复用，非阻塞</li>
<li>executors.pool: 线程ThreadPoolExecutor和进程ProcessPoolExecutor</li>
<li>executors.twisted：基于事件驱动</li>
</ul>
<h4 id="Jobstore-作业存储"><a href="#Jobstore-作业存储" class="headerlink" title="Jobstore 作业存储"></a>Jobstore 作业存储</h4><p>Jobstore在scheduler中初始化，另外也可通过scheduler的add_jobstore动态添加Jobstore。每个jobstore都会绑定一个alias，scheduler在Add Job时，根据指定的jobstore在scheduler中找到相应的jobstore，并将job添加到jobstore中。作业存储器决定任务的保存方式， 默认存储在内存中（MemoryJobStore），重启后就没有了。APScheduler支持的任务存储器有：</p>
<ul>
<li>jobstores.memory：内存</li>
<li>jobstores.mongodb：存储在mongodb</li>
<li>jobstores.redis：存储在redis</li>
<li>jobstores.rethinkdb：存储在rethinkdb</li>
<li>jobstores.sqlalchemy：支持sqlalchemy的数据库如mysql，sqlite等</li>
<li>jobstores.zookeeper：zookeeper</li>
</ul>
<p>不同的任务存储器可以在调度器的配置中进行配置（见调度器）</p>
<h4 id="Event-事件"><a href="#Event-事件" class="headerlink" title="Event 事件"></a>Event 事件</h4><p>Event是APScheduler在进行某些操作时触发相应的事件，用户可以自定义一些函数来监听这些事件，当触发某些Event时，做一些具体的操作。常见的比如。Job执行异常事件 EVENT_JOB_ERROR。Job执行时间错过事件 EVENT_JOB_MISSED。</p>
<p>目前APScheduler定义的Event：</p>
<ul>
<li>EVENT_SCHEDULER_STARTED</li>
<li>EVENT_SCHEDULER_START</li>
<li>EVENT_SCHEDULER_SHUTDOWN</li>
<li>EVENT_SCHEDULER_PAUSED</li>
<li>EVENT_SCHEDULER_RESUMED</li>
<li>EVENT_EXECUTOR_ADDED</li>
<li>EVENT_EXECUTOR_REMOVED</li>
<li>EVENT_JOBSTORE_ADDED</li>
<li>EVENT_JOBSTORE_REMOVED</li>
<li>EVENT_ALL_JOBS_REMOVED</li>
<li>EVENT_JOB_ADDED</li>
<li>EVENT_JOB_REMOVED</li>
<li>EVENT_JOB_MODIFIED</li>
<li>EVENT_JOB_EXECUTED</li>
<li>EVENT_JOB_ERROR</li>
<li>EVENT_JOB_MISSED</li>
<li>EVENT_JOB_SUBMITTED</li>
<li>EVENT_JOB_MAX_INSTANCES</li>
</ul>
<p>Listener表示用户自定义监听的一些Event，比如当Job触发了EVENT_JOB_MISSED事件时可以根据需求做一些其他处理。</p>
<h4 id="调度器"><a href="#调度器" class="headerlink" title="调度器"></a>调度器</h4><p>Scheduler是APScheduler的核心，所有相关组件通过其定义。scheduler启动之后，将开始按照配置的任务进行调度。除了依据所有定义Job的trigger生成的将要调度时间唤醒调度之外。当发生Job信息变更时也会触发调度。</p>
<p>APScheduler支持的调度器方式如下，比较常用的为BlockingScheduler和BackgroundScheduler</p>
<ul>
<li>BlockingScheduler：适用于调度程序是进程中唯一运行的进程，调用start函数会阻塞当前线程，不能立即返回。</li>
<li>BackgroundScheduler：适用于调度程序在应用程序的后台运行，调用start后主线程不会阻塞。</li>
<li>AsyncIOScheduler：适用于使用了asyncio模块的应用程序。</li>
<li>GeventScheduler：适用于使用gevent模块的应用程序。</li>
<li>TwistedScheduler：适用于构建Twisted的应用程序。</li>
<li>QtScheduler：适用于构建Qt的应用程序。</li>
</ul>
<h3 id="Scheduler的工作流程"><a href="#Scheduler的工作流程" class="headerlink" title="Scheduler的工作流程"></a>Scheduler的工作流程</h3><p>Scheduler添加job流程：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010115850558.png" alt=""></p>
<p>Scheduler调度流程：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010115912857.png" alt=""></p>
<h2 id="使用分布式消息系统Celery实现定时任务"><a href="#使用分布式消息系统Celery实现定时任务" class="headerlink" title="使用分布式消息系统Celery实现定时任务"></a>使用分布式消息系统Celery实现定时任务</h2><p>Celery是一个简单，灵活，可靠的分布式系统，用于处理大量消息，同时为操作提供维护此类系统所需的工具, 也可用于任务调度。Celery 的配置比较麻烦，如果你只是需要一个轻量级的调度工具，Celery 不会是一个好选择。</p>
<p>Celery 是一个强大的分布式任务队列，它可以让任务的执行完全脱离主程序，甚至可以被分配到其他主机上运行。我们通常使用它来实现异步任务（async task）和定时任务（crontab）。异步任务比如是发送邮件、或者文件上传, 图像处理等等一些比较耗时的操作 ，定时任务是需要在特定时间执行的任务。</p>
<p>需要注意，celery本身并不具备任务的存储功能，在调度任务的时候肯定是要把任务存起来的，因此在使用celery的时候还需要搭配一些具备存储、访问功能的工具，比如：消息队列、Redis缓存、数据库等。官方推荐的是消息队列RabbitMQ，有些时候使用Redis也是不错的选择。</p>
<p>它的架构组成如下图：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010115933872.png" alt=""></p>
<p>Celery架构，它采用典型的生产者-消费者模式，主要由以下部分组成：</p>
<ul>
<li>Celery Beat，任务调度器，Beat进程会读取配置文件的内容，周期性地将配置中到期需要执行的任务发送给任务队列。</li>
<li>Producer：需要在队列中进行的任务，一般由用户、触发器或其他操作将任务入队，然后交由workers进行处理。调用了Celery提供的API、函数或者装饰器而产生任务并交给任务队列处理的都是任务生产者。</li>
<li>Broker，即消息中间件，在这指任务队列本身，Celery扮演生产者和消费者的角色，brokers就是生产者和消费者存放/获取产品的地方(队列)。</li>
<li>Celery Worker，执行任务的消费者，从队列中取出任务并执行。通常会在多台服务器运行多个消费者来提高执行效率。</li>
<li>Result Backend：任务处理完后保存状态信息和结果，以供查询。Celery默认已支持Redis、RabbitMQ、MongoDB、Django ORM、SQLAlchemy等方式。</li>
</ul>
<p>实际应用中，用户从Web前端发起一个请求，我们只需要将请求所要处理的任务丢入任务队列broker中，由空闲的worker去处理任务即可，处理的结果会暂存在后台数据库backend中。我们可以在一台机器或多台机器上同时起多个worker进程来实现分布式地并行处理任务。</p>
<p>Celery定时任务实例：</p>
<ul>
<li>Python Celery &amp; RabbitMQ Tutorial</li>
<li>Celery 配置实践笔记</li>
</ul>
<h2 id="使用数据流工具Apache-Airflow实现定时任务"><a href="#使用数据流工具Apache-Airflow实现定时任务" class="headerlink" title="使用数据流工具Apache Airflow实现定时任务"></a>使用数据流工具Apache Airflow实现定时任务</h2><p>Apache Airflow 是Airbnb开源的一款数据流程工具，目前是Apache孵化项目。以非常灵活的方式来支持数据的ETL过程，同时还支持非常多的插件来完成诸如HDFS监控、邮件通知等功能。Airflow支持单机和分布式两种模式，支持Master-Slave模式，支持Mesos等资源调度，有非常好的扩展性。被大量公司采用。</p>
<p>Airflow使用Python开发，它通过DAGs(Directed Acyclic Graph, 有向无环图)来表达一个工作流中所要执行的任务，以及任务之间的关系和依赖。比如，如下的工作流中，任务T1执行完成，T2和T3才能开始执行，T2和T3都执行完成，T4才能开始执行。</p>
<img src="/images/loading.gif" data-original="../images/language/image-20211010120013619.png" style="zoom:50%;">

<p>Airflow提供了各种Operator实现，可以完成各种任务实现：</p>
<ul>
<li>BashOperator – 执行 bash 命令或脚本。</li>
<li>SSHOperator – 执行远程 bash 命令或脚本（原理同 paramiko 模块）。</li>
<li>PythonOperator – 执行 Python 函数。</li>
<li>EmailOperator – 发送 Email。</li>
<li>HTTPOperator – 发送一个 HTTP 请求。</li>
<li>MySqlOperator, SqliteOperator, PostgresOperator, MsSqlOperator, OracleOperator, JdbcOperator, 等，执行 SQL 任务。</li>
<li>DockerOperator, HiveOperator, S3FileTransferOperator, PrestoToMysqlOperator, SlackOperator…</li>
</ul>
<p>除了以上这些 Operators 还可以方便的自定义 Operators 满足个性化的任务需求。</p>
<p>一些情况下，我们需要根据执行结果执行不同的任务，这样工作流会产生分支。如:</p>
<img src="/images/loading.gif" data-original="../images/language/image-20211010120045076.png" style="zoom:50%;">

<p>这种需求可以使用BranchPythonOperator来实现。</p>
<h3 id="Airflow-产生的背景"><a href="#Airflow-产生的背景" class="headerlink" title="Airflow 产生的背景"></a>Airflow 产生的背景</h3><p>通常，在一个运维系统，数据分析系统，或测试系统等大型系统中，我们会有各种各样的依赖需求。包括但不限于：</p>
<ul>
<li>时间依赖：任务需要等待某一个时间点触发。</li>
<li>外部系统依赖：任务依赖外部系统需要调用接口去访问。</li>
<li>任务间依赖：任务 A 需要在任务 B 完成后启动，两个任务互相间会产生影响。</li>
<li>资源环境依赖：任务消耗资源非常多， 或者只能在特定的机器上执行。</li>
</ul>
<p>crontab 可以很好地处理定时执行任务的需求，但仅能管理时间上的依赖。Airflow 的核心概念 DAG（有向无环图）—— 来表现工作流。</p>
<ul>
<li>Airflow 是一种 WMS，即：它将任务以及它们的依赖看作代码，按照那些计划规范任务执行，并在实际工作进程之间分发需执行的任务。</li>
<li>Airflow 提供了一个用于显示当前活动任务和过去任务状态的优秀 UI，并允许用户手动管理任务的执行和状态。</li>
<li>Airflow 中的工作流是具有方向性依赖的任务集合。</li>
<li>DAG 中的每个节点都是一个任务，DAG 中的边表示的是任务之间的依赖（强制为有向无环，因此不会出现循环依赖，从而导致无限执行循环）。</li>
</ul>
<h3 id="Airflow-核心概念"><a href="#Airflow-核心概念" class="headerlink" title="Airflow 核心概念"></a>Airflow 核心概念</h3><ul>
<li>DAGs：即有向无环图(Directed Acyclic Graph)，将所有需要运行的tasks按照依赖关系组织起来，描述的是所有tasks执行顺序。</li>
<li>Operators：可以简单理解为一个class，描述了DAG中某个的task具体要做的事。其中，airflow内置了很多operators，如BashOperator 执行一个bash 命令，PythonOperator 调用任意的Python 函数，EmailOperator 用于发送邮件，HTTPOperator 用于发送HTTP请求， SqlOperator 用于执行SQL命令等等，同时，用户可以自定义Operator，这给用户提供了极大的便利性。</li>
<li>Tasks：Task 是 Operator的一个实例，也就是DAGs中的一个node。</li>
<li>Task Instance：task的一次运行。Web 界面中可以看到task instance 有自己的状态，包括”running”, “success”, “failed”, “skipped”, “up for retry”等。</li>
<li>Task Relationships：DAGs中的不同Tasks之间可以有依赖关系，如 Task1 &gt;&gt; Task2，表明Task2依赖于Task2了。通过将DAGs和Operators结合起来，用户就可以创建各种复杂的 工作流（workflow）。</li>
</ul>
<h3 id="Airflow-的架构"><a href="#Airflow-的架构" class="headerlink" title="Airflow 的架构"></a>Airflow 的架构</h3><p>在一个可扩展的生产环境中，Airflow 含有以下组件：</p>
<ul>
<li><strong>元数据库</strong>：这个数据库存储有关任务状态的信息。</li>
<li><strong>调度器</strong>：Scheduler 是一种使用 DAG 定义结合元数据中的任务状态来决定哪些任务需要被执行以及任务执行优先级的过程。调度器通常作为服务运行。</li>
<li><strong>执行器</strong>：Executor 是一个消息队列进程，它被绑定到调度器中，用于确定实际执行每个任务计划的工作进程。有不同类型的执行器，每个执行器都使用一个指定工作进程的类来执行任务。例如，LocalExecutor 使用与调度器进程在同一台机器上运行的并行进程执行任务。其他像 CeleryExecutor 的执行器使用存在于独立的工作机器集群中的工作进程执行任务。</li>
<li><strong>Workers</strong>：这些是实际执行任务逻辑的进程，由正在使用的执行器确定。</li>
</ul>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010120113874.png" alt=""></p>
<p>Worker的具体实现由配置文件中的executor来指定，airflow支持多种Executor:</p>
<ul>
<li>SequentialExecutor: 单进程顺序执行，一般只用来测试</li>
<li>LocalExecutor: 本地多进程执行</li>
<li>CeleryExecutor: 使用Celery进行分布式任务调度</li>
<li>DaskExecutor：使用Dask进行分布式任务调度</li>
<li>KubernetesExecutor: 1.10.0新增, 创建临时POD执行每次任务</li>
</ul>
<p>生产环境一般使用CeleryExecutor和KubernetesExecutor。</p>
<p>使用CeleryExecutor的架构如图:</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010120129297.png" alt=""></p>
<p>使用KubernetesExecutor的架构如图:</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010120142905.png" alt=""></p>
<h1 id="100个Python小技巧"><a href="#100个Python小技巧" class="headerlink" title="100个Python小技巧"></a>100个Python小技巧</h1><h2 id="▍1、for循环中的else条件"><a href="#▍1、for循环中的else条件" class="headerlink" title="▍1、for循环中的else条件"></a><strong>▍1、for循环中的else条件</strong></h2><p>这是一个for-else方法，循环遍历列表时使用else语句。</p>
<p>下面举个例子，比如我们想检查一个列表中是否包含奇数。</p>
<p>那么可以通过for循环，遍历查找。</p>
<pre class="line-numbers language-python"><code class="language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> number <span class="token keyword">in</span> numbers<span class="token punctuation">:</span>
    <span class="token keyword">if</span> number <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"No odd numbers"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果找到了奇数，就会打印该数值，并且执行break语句，跳过else语句。</p>
<p>没有的话，就不会执行break语句，而是执行else语句。</p>
<h2 id="▍2、从列表中获取元素，定义多个变量"><a href="#▍2、从列表中获取元素，定义多个变量" class="headerlink" title="▍2、从列表中获取元素，定义多个变量"></a>▍<strong>2、从列表中获取元素，定义多个变量</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">,</span> four<span class="token punctuation">,</span> five <span class="token operator">=</span> my_list<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍3、使用heapq模块，获取列表中n个最大或最小的元素"><a href="#▍3、使用heapq模块，获取列表中n个最大或最小的元素" class="headerlink" title="▍3、使用heapq模块，获取列表中n个最大或最小的元素"></a><strong>▍3、使用heapq模块，获取列表中n个最大或最小的元素</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> heapq

scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>heapq<span class="token punctuation">.</span>nlargest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> scores<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [91, 87, 82]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>heapq<span class="token punctuation">.</span>nsmallest<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> scores<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [15, 33, 33, 49, 51]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍4、将列表中的所有元素作为参数传递给函数"><a href="#▍4、将列表中的所有元素作为参数传递给函数" class="headerlink" title="▍4、将列表中的所有元素作为参数传递给函数"></a><strong>▍4、将列表中的所有元素作为参数传递给函数</strong></h2><p>我们可以使用 * 号，提取列表中所有的元素</p>
<pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3, 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">*</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1 2 3 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如此便可以将列表中的所有元素，作为参数传递给函数</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_of_elements</span><span class="token punctuation">(</span><span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    total <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> arg<span class="token punctuation">:</span>
        total <span class="token operator">+=</span> i

    <span class="token keyword">return</span> total


result <span class="token operator">=</span> sum_of_elements<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍5、获取列表的所有中间元素"><a href="#▍5、获取列表的所有中间元素" class="headerlink" title="▍5、获取列表的所有中间元素"></a><strong>▍5、获取列表的所有中间元素</strong></h2><pre class="line-numbers language-python"><code class="language-python">_<span class="token punctuation">,</span> <span class="token operator">*</span>elements_in_the_middle<span class="token punctuation">,</span> _ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>elements_in_the_middle<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [2, 3, 4, 5, 6, 7]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍6、使用一行代码赋值多个变量"><a href="#▍6、使用一行代码赋值多个变量" class="headerlink" title="▍6、使用一行代码赋值多个变量"></a><strong>▍6、使用一行代码赋值多个变量</strong></h2><pre class="line-numbers language-python"><code class="language-python">one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">,</span> four <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍7、列表推导式"><a href="#▍7、列表推导式" class="headerlink" title="▍7、列表推导式"></a><strong>▍7、列表推导式</strong></h2><p>只用一行代码，便可完成对数组的迭代以及运算。</p>
<p>比如，将列表中的每个数字提高一倍。</p>
<pre class="line-numbers language-python"><code class="language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
squared_numbers <span class="token operator">=</span> <span class="token punctuation">[</span>num <span class="token operator">*</span> num <span class="token keyword">for</span> num <span class="token keyword">in</span> numbers<span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>squared_numbers<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># [1, 4, 9, 16, 25]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>推导式不仅列表能用，字典、集合、生成器也能使用。</p>
<p>下面看一下，使用字典推导式，将字典的值提高一倍。</p>
<pre class="line-numbers language-python"><code class="language-python">dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span>
squared_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span>key<span class="token punctuation">:</span> num <span class="token operator">*</span> num <span class="token keyword">for</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token keyword">in</span> dictionary<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>squared_dictionary<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {'a': 16, 'b': 25}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍8、通过Enum枚举同一标签或一系列常量的集合"><a href="#▍8、通过Enum枚举同一标签或一系列常量的集合" class="headerlink" title="▍8、通过Enum枚举同一标签或一系列常量的集合"></a><strong>▍8、通过Enum枚举同一标签或一系列常量的集合</strong></h2><p>枚举是绑定到唯一的常量值的一组符号名称(成员)。</p>
<p>在枚举中，成员可以通过身份进行比较，枚举本身可以迭代。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum


<span class="token keyword">class</span> <span class="token class-name">Status</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>
    NO_STATUS <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    NOT_STARTED <span class="token operator">=</span> <span class="token number">0</span>
    IN_PROGRESS <span class="token operator">=</span> <span class="token number">1</span>
    COMPLETED <span class="token operator">=</span> <span class="token number">2</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span>IN_PROGRESS<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># IN_PROGRESS</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span>COMPLETED<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍9、重复字符串"><a href="#▍9、重复字符串" class="headerlink" title="▍9、重复字符串"></a><strong>▍9、重复字符串</strong></h2><pre class="line-numbers language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">"Banana"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># BananaBananaBananaBanana</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍10、比较3个数字的大小"><a href="#▍10、比较3个数字的大小" class="headerlink" title="▍10、比较3个数字的大小"></a><strong>▍10、比较3个数字的大小</strong></h2><p>如果想比较一个值和其他两个值的大小情况，你可以使用简单的数学表达式。</p>
<pre><code>1 &lt; x &lt; 10</code></pre><p>这个是最简单的代数表达式，在Python中也是可以使用的。</p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> <span class="token number">3</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;</span> x <span class="token operator">and</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍11、使用1行代码合并字典"><a href="#▍11、使用1行代码合并字典" class="headerlink" title="▍11、使用1行代码合并字典"></a><strong>▍11、使用1行代码合并字典</strong></h2><pre class="line-numbers language-python"><code class="language-python">first_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Fan'</span><span class="token punctuation">,</span> <span class="token string">'location'</span><span class="token punctuation">:</span> <span class="token string">'Guangzhou'</span><span class="token punctuation">}</span>
second_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Fan'</span><span class="token punctuation">,</span> <span class="token string">'surname'</span><span class="token punctuation">:</span> <span class="token string">'Xiao'</span><span class="token punctuation">,</span> <span class="token string">'location'</span><span class="token punctuation">:</span> <span class="token string">'Guangdong, Guangzhou'</span><span class="token punctuation">}</span>

result <span class="token operator">=</span> first_dictionary <span class="token operator">|</span> second_dictionary

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {'name': 'Fan', 'location': 'Guangdong, Guangzhou', 'surname': 'Xiao'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍12、查找元组中元素的索引"><a href="#▍12、查找元组中元素的索引" class="headerlink" title="▍12、查找元组中元素的索引"></a><strong>▍12、查找元组中元素的索引</strong></h2><pre class="line-numbers language-python"><code class="language-python">books <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Atomic habits'</span><span class="token punctuation">,</span> <span class="token string">'Ego is the enemy'</span><span class="token punctuation">,</span> <span class="token string">'Outliers'</span><span class="token punctuation">,</span> <span class="token string">'Mastery'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'Mastery'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍13、将字符串转换为字符串列表"><a href="#▍13、将字符串转换为字符串列表" class="headerlink" title="▍13、将字符串转换为字符串列表"></a><strong>▍13、将字符串转换为字符串列表</strong></h2><p>假设你在函数中获得输出，原本应该是一个列表，但实际上却是一个字符串。</p>
<pre class="line-numbers language-python"><code class="language-python">input <span class="token operator">=</span> <span class="token string">"[1,2,3]"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>你可能第一时间会想到使用索引或者正则表达式。</p>
<p>实际上，使用ast模块的literal_eval方法就能搞定。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> ast


<span class="token keyword">def</span> <span class="token function">string_to_list</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> ast<span class="token punctuation">.</span>literal_eval<span class="token punctuation">(</span>string<span class="token punctuation">)</span>


string <span class="token operator">=</span> <span class="token string">"[1, 2, 3]"</span>
my_list <span class="token operator">=</span> string_to_list<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3]</span>

string <span class="token operator">=</span> <span class="token string">"[[1, 2, 3],[4, 5, 6]]"</span>
my_list <span class="token operator">=</span> string_to_list<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [[1, 2, 3], [4, 5, 6]]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍14、计算两数差值"><a href="#▍14、计算两数差值" class="headerlink" title="▍14、计算两数差值"></a><strong>▍14、计算两数差值</strong></h2><p>计算出2个数字之间的差值。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">subtract</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtract<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># -2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtract<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面的这个方法，需要考虑数值的先后顺序。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">subtract</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtract<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># -2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subtract<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># -2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用命名参数，安排顺序，这样就不会出错了。</p>
<h2 id="▍15、用一个print-语句打印多个元素"><a href="#▍15、用一个print-语句打印多个元素" class="headerlink" title="▍15、用一个print()语句打印多个元素"></a><strong>▍15、用一个print()语句打印多个元素</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"z"</span><span class="token punctuation">,</span> <span class="token string">"this is here"</span><span class="token punctuation">,</span> <span class="token string">"here is something else"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍16、在同一行打印多个元素"><a href="#▍16、在同一行打印多个元素" class="headerlink" title="▍16、在同一行打印多个元素"></a><strong>▍16、在同一行打印多个元素</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># HelloWorld</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Hello World</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'words'</span><span class="token punctuation">,</span>   <span class="token string">'with'</span><span class="token punctuation">,</span> <span class="token string">'commas'</span><span class="token punctuation">,</span> <span class="token string">'in'</span><span class="token punctuation">,</span> <span class="token string">'between'</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">', '</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># words, with, commas, in, between</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍17、打印多个值，在每个值之间使用自定义分隔符"><a href="#▍17、打印多个值，在每个值之间使用自定义分隔符" class="headerlink" title="▍17、打印多个值，在每个值之间使用自定义分隔符"></a><strong>▍17、打印多个值，在每个值之间使用自定义分隔符</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"29"</span><span class="token punctuation">,</span> <span class="token string">"01"</span><span class="token punctuation">,</span> <span class="token string">"2022"</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">"/"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 29/01/2022</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"domain.com"</span><span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">"@"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># name@domain.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍18、不能在变量名的开头使用数字"><a href="#▍18、不能在变量名的开头使用数字" class="headerlink" title="▍18、不能在变量名的开头使用数字"></a><strong>▍18、不能在变量名的开头使用数字</strong></h2><pre class="line-numbers language-python"><code class="language-python">four_letters <span class="token operator">=</span> <span class="token string">"abcd"</span> <span class="token comment" spellcheck="true"># this works</span>

4_letters <span class="token operator">=</span> <span class="token string">"abcd"</span> <span class="token comment" spellcheck="true"># this doesn’t work</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>这是Python的变量命名规则。</p>
<h2 id="▍19、不能在变量名的开头使用运算符"><a href="#▍19、不能在变量名的开头使用运算符" class="headerlink" title="▍19、不能在变量名的开头使用运算符"></a><strong>▍19、不能在变量名的开头使用运算符</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">+</span>variable <span class="token operator">=</span> <span class="token string">"abcd"</span>  <span class="token comment" spellcheck="true"># this doesn’t work</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍20、数字的第一位不能是0"><a href="#▍20、数字的第一位不能是0" class="headerlink" title="▍20、数字的第一位不能是0"></a><strong>▍20、数字的第一位不能是0</strong></h2><pre class="line-numbers language-python"><code class="language-python">number <span class="token operator">=</span> <span class="token number">0110</span> <span class="token comment" spellcheck="true"># this doesn't work</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这个确实挺神奇的。</p>
<h2 id="▍21、在变量名的任何地方使用下划线"><a href="#▍21、在变量名的任何地方使用下划线" class="headerlink" title="▍21、在变量名的任何地方使用下划线"></a><strong>▍21、在变量名的任何地方使用下划线</strong></h2><pre class="line-numbers language-python"><code class="language-python">a______b <span class="token operator">=</span> <span class="token string">"abcd"</span>  <span class="token comment" spellcheck="true"># this works</span>
_a_b_c_d <span class="token operator">=</span> <span class="token string">"abcd"</span>  <span class="token comment" spellcheck="true"># this also works</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这并不意味着，你可以无限使用，为了代码的易读性，还是需要合理使用。</p>
<h2 id="▍22、使用下划线分割数值较大的数字"><a href="#▍22、使用下划线分割数值较大的数字" class="headerlink" title="▍22、使用下划线分割数值较大的数字"></a><strong>▍22、使用下划线分割数值较大的数字</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>1_000_000_000<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1000000000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>1_234_567<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1234567</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>如此，看到一大堆数字时，也能轻松阅读。</p>
<h2 id="▍23、反转列表"><a href="#▍23、反转列表" class="headerlink" title="▍23、反转列表"></a><strong>▍23、反转列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span>

my_list<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ['d', 'c', 'b', 'a']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍24、使用步进函数对字符串切片"><a href="#▍24、使用步进函数对字符串切片" class="headerlink" title="▍24、使用步进函数对字符串切片"></a><strong>▍24、使用步进函数对字符串切片</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_string <span class="token operator">=</span> <span class="token string">"This is just a sentence"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># This</span>

<span class="token comment" spellcheck="true"># Take three steps forward</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Tsse</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍25、反向切片"><a href="#▍25、反向切片" class="headerlink" title="▍25、反向切片"></a><strong>▍25、反向切片</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_string <span class="token operator">=</span> <span class="token string">"This is just a sentence"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># suj si sih</span>

<span class="token comment" spellcheck="true"># Take two steps forward</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># sjs i</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍26、使用开始或结束索引进行切片"><a href="#▍26、使用开始或结束索引进行切片" class="headerlink" title="▍26、使用开始或结束索引进行切片"></a><strong>▍26、使用开始或结束索引进行切片</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_string <span class="token operator">=</span> <span class="token string">"This is just a sentence"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># is just a sentence</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Thi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍27、-和-的区别"><a href="#▍27、-和-的区别" class="headerlink" title="▍27、/和//的区别"></a><strong>▍27、/和//的区别</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1.5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍28、-和is的区别"><a href="#▍28、-和is的区别" class="headerlink" title="▍28、==和is的区别"></a><strong>▍28、==和is的区别</strong></h2><p>is：检查两个变量是否指向同一对象内存中</p>
<p>==：比较两个对象的值</p>
<pre class="line-numbers language-python"><code class="language-python">first_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
second_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># 比较两个值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>first_list <span class="token operator">==</span> second_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

<span class="token comment" spellcheck="true"># 是否指向同一内存</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>first_list <span class="token keyword">is</span> second_list<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># False</span>


third_list <span class="token operator">=</span> first_list

<span class="token keyword">print</span><span class="token punctuation">(</span>third_list <span class="token keyword">is</span> first_list<span class="token punctuation">)</span>  
<span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍29、合并字典"><a href="#▍29、合并字典" class="headerlink" title="▍29、合并字典"></a><strong>▍29、合并字典</strong></h2><pre class="line-numbers language-python"><code class="language-python">dictionary_one <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
dictionary_two <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"c"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span>

merged <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">**</span>dictionary_one<span class="token punctuation">,</span> <span class="token operator">**</span>dictionary_two<span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>merged<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {'a': 1, 'b': 2, 'c': 3, 'd': 4}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍30、检查字符串是否大于另一字符串"><a href="#▍30、检查字符串是否大于另一字符串" class="headerlink" title="▍30、检查字符串是否大于另一字符串"></a><strong>▍30、检查字符串是否大于另一字符串</strong></h2><pre class="line-numbers language-python"><code class="language-python">first <span class="token operator">=</span> <span class="token string">"abc"</span>
second <span class="token operator">=</span> <span class="token string">"def"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first <span class="token operator">&lt;</span> second<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

second <span class="token operator">=</span> <span class="token string">"ab"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>first <span class="token operator">&lt;</span> second<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍31、检查字符串是否以特定字符开头-不使用索引"><a href="#▍31、检查字符串是否以特定字符开头-不使用索引" class="headerlink" title="▍31、检查字符串是否以特定字符开头(不使用索引)"></a><strong>▍31、检查字符串是否以特定字符开头(不使用索引)</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_string <span class="token operator">=</span> <span class="token string">"abcdef"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_string<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍32、使用id-查找变量的唯一id"><a href="#▍32、使用id-查找变量的唯一id" class="headerlink" title="▍32、使用id()查找变量的唯一id"></a><strong>▍32、使用id()查找变量的唯一id</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325776624</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325776656</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4327978288</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍33、整数、浮点数、字符串、布尔值和元组都是不可变的"><a href="#▍33、整数、浮点数、字符串、布尔值和元组都是不可变的" class="headerlink" title="▍33、整数、浮点数、字符串、布尔值和元组都是不可变的"></a><strong>▍33、整数、浮点数、字符串、布尔值和元组都是不可变的</strong></h2><p>当变量被赋值为整数、浮点数、字符串、布尔值、元组这些不可变类型后，该变量就会指向一个内存对象。</p>
<p>如果重新给变量再赋值，它的内存对象就会发生改变。</p>
<pre class="line-numbers language-python"><code class="language-python">number <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325215472</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325215472</span>

number <span class="token operator">=</span> <span class="token number">3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325215536</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4325215472</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍34、字符串和元组也是不可变的"><a href="#▍34、字符串和元组也是不可变的" class="headerlink" title="▍34、字符串和元组也是不可变的"></a><strong>▍34、字符串和元组也是不可变的</strong></h2><p>此处再说明一次。</p>
<pre class="line-numbers language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">"Fatos"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4422282544</span>

name <span class="token operator">=</span> <span class="token string">"fatos"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4422346608</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍35、列表、集合和字典都是可变的"><a href="#▍35、列表、集合和字典都是可变的" class="headerlink" title="▍35、列表、集合和字典都是可变的"></a><strong>▍35、列表、集合和字典都是可变的</strong></h2><p>这意味着发生更改时，不会改变其内存对象。</p>
<pre class="line-numbers language-python"><code class="language-python">cities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Beijing"</span><span class="token punctuation">,</span> <span class="token string">"Guangzhou"</span><span class="token punctuation">,</span> <span class="token string">"chengdu"</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>cities<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4482699712</span>

cities<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"Beijing"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>cities<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4482699712</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面是字典。</p>
<pre class="line-numbers language-python"><code class="language-python">my_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>my_set<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4352726176</span>

my_set<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>id<span class="token punctuation">(</span>my_set<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4352726176</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍36、把一个列表变成不可变的列表"><a href="#▍36、把一个列表变成不可变的列表" class="headerlink" title="▍36、把一个列表变成不可变的列表"></a><strong>▍36、把一个列表变成不可变的列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_set <span class="token operator">=</span> frozenset<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

my_set<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>使用frozenset()后，你就无法更改了。</p>
<h2 id="▍37、if-elif块可以在没有else块的情况下存在"><a href="#▍37、if-elif块可以在没有else块的情况下存在" class="headerlink" title="▍37、if-elif块可以在没有else块的情况下存在"></a><strong>▍37、if-elif块可以在没有else块的情况下存在</strong></h2><p>但是elif不能在没有if语句之前独立存在。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">check_number</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> number <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"Positive"</span>
    <span class="token keyword">elif</span> number <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"Zero"</span>

    <span class="token keyword">return</span> <span class="token string">"Negative"</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>check_number<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Positive</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍38、使用sorted-检查2个字符串是否为相同"><a href="#▍38、使用sorted-检查2个字符串是否为相同" class="headerlink" title="▍38、使用sorted()检查2个字符串是否为相同"></a><strong>▍38、使用sorted()检查2个字符串是否为相同</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">check_if_anagram</span><span class="token punctuation">(</span>first_word<span class="token punctuation">,</span> second_word<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_word <span class="token operator">=</span> first_word<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    second_word <span class="token operator">=</span> second_word<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>first_word<span class="token punctuation">)</span> <span class="token operator">==</span> sorted<span class="token punctuation">(</span>second_word<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"testinG"</span><span class="token punctuation">,</span> <span class="token string">"Testing"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"Here"</span><span class="token punctuation">,</span> <span class="token string">"Rehe"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"Know"</span><span class="token punctuation">,</span> <span class="token string">"Now"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍39、获取字符的Unicode值"><a href="#▍39、获取字符的Unicode值" class="headerlink" title="▍39、获取字符的Unicode值"></a><strong>▍39、获取字符的Unicode值</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 65</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 66</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 66</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 97</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍40、获取字典的键"><a href="#▍40、获取字典的键" class="headerlink" title="▍40、获取字典的键"></a><strong>▍40、获取字典的键</strong></h2><pre class="line-numbers language-python"><code class="language-python">dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

keys <span class="token operator">=</span> dictionary<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ['a', 'b', 'c']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍41、获取字典的值"><a href="#▍41、获取字典的值" class="headerlink" title="▍41、获取字典的值"></a><strong>▍41、获取字典的值</strong></h2><pre class="line-numbers language-python"><code class="language-python">dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

values <span class="token operator">=</span> dictionary<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍42、交换字典的键、值位置"><a href="#▍42、交换字典的键、值位置" class="headerlink" title="▍42、交换字典的键、值位置"></a><strong>▍42、交换字典的键、值位置</strong></h2><pre class="line-numbers language-python"><code class="language-python">dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

reversed_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span>j<span class="token punctuation">:</span> i <span class="token keyword">for</span> i<span class="token punctuation">,</span> j <span class="token keyword">in</span> dictionary<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>reversed<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {1: 'a', 2: 'b', 3: 'c'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍43、将布尔值转换为数字"><a href="#▍43、将布尔值转换为数字" class="headerlink" title="▍43、将布尔值转换为数字"></a><strong>▍43、将布尔值转换为数字</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>float<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍44、在算术运算中使用布尔值"><a href="#▍44、在算术运算中使用布尔值" class="headerlink" title="▍44、在算术运算中使用布尔值"></a><strong>▍44、在算术运算中使用布尔值</strong></h2><pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> <span class="token number">10</span>
y <span class="token operator">=</span> <span class="token number">12</span>

result <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span>y <span class="token operator">*</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0.8333333333333334</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍45、将任何数据类型转换为布尔值"><a href="#▍45、将任何数据类型转换为布尔值" class="headerlink" title="▍45、将任何数据类型转换为布尔值"></a><strong>▍45、将任何数据类型转换为布尔值</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token string">"string"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍46、将值转换为复数"><a href="#▍46、将值转换为复数" class="headerlink" title="▍46、将值转换为复数"></a><strong>▍46、将值转换为复数</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>complex<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (10+2j)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>也可以将数字转换为十六进制数。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>hex<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0xb</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍47、在列表的第一个位置添加一个值"><a href="#▍47、在列表的第一个位置添加一个值" class="headerlink" title="▍47、在列表的第一个位置添加一个值"></a><strong>▍47、在列表的第一个位置添加一个值</strong></h2><p>如果使用append()，将从列表的最后一个位置插入新值。</p>
<p>可以通过使用insert()，来指定插入新元素的索引和数值。</p>
<p>那么列表的第一个位置为0，即下标为0。</p>
<pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

my_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
my_list<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [2, 3, 4, 5, 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍48、Lambda函数只能在一行代码中"><a href="#▍48、Lambda函数只能在一行代码中" class="headerlink" title="▍48、Lambda函数只能在一行代码中"></a><strong>▍48、Lambda函数只能在一行代码中</strong></h2><p>无法通过多行代码，来使用lambda函数。</p>
<pre class="line-numbers language-python"><code class="language-python">comparison <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"x > 3"</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"x is not greater than 3"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>报错。</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010132524263.png" alt=""></p>
<h2 id="49、Lambda中的条件语句应始终包含else语句"><a href="#49、Lambda中的条件语句应始终包含else语句" class="headerlink" title="49、Lambda中的条件语句应始终包含else语句"></a><strong>49、Lambda中的条件语句应始终包含else语句</strong></h2><pre class="line-numbers language-python"><code class="language-python">comparison <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token string">"x > 3"</span> <span class="token keyword">if</span> x <span class="token operator">></span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>运行上面的代码，报错。</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211010132539769.png" alt=""></p>
<p>这是由于条件表达式的特性，而不是lambda的导致的。</p>
<h2 id="▍50、使用filter-，获得一个新对象"><a href="#▍50、使用filter-，获得一个新对象" class="headerlink" title="▍50、使用filter()，获得一个新对象"></a><strong>▍50、使用filter()，获得一个新对象</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

odd <span class="token operator">=</span> filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">,</span> my_list<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># [1, 3]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3, 4]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍51、map-返回一个新对象"><a href="#▍51、map-返回一个新对象" class="headerlink" title="▍51、map()返回一个新对象"></a><strong>▍51、map()返回一个新对象</strong></h2><p>map()函数将给定函数应用于可迭代对象(列表、元组等)，然后返回结果(map对象)。</p>
<pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

squared <span class="token operator">=</span> map<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> my_list<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>squared<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># [1, 4, 9, 16]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3, 4]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍52、range-的step参数"><a href="#▍52、range-的step参数" class="headerlink" title="▍52、range()的step参数"></a><strong>▍52、range()的step参数</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">for</span> number <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 1 4 7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍53、range-默认从0开始"><a href="#▍53、range-默认从0开始" class="headerlink" title="▍53、range()默认从0开始"></a><strong>▍53、range()默认从0开始</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">range_with_zero</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">range_with_no_zero</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>


range_with_zero<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0 1 2</span>
range_with_no_zero<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 0 1 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍54、不需要和0比较长度"><a href="#▍54、不需要和0比较长度" class="headerlink" title="▍54、不需要和0比较长度"></a><strong>▍54、不需要和0比较长度</strong></h2><p>如果长度大于0，则默认为True。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_element_with_comparison</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> len<span class="token punctuation">(</span>my_list<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> my_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>


<span class="token keyword">def</span> <span class="token function">get_first_element</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> len<span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> my_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>


elements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
first_result <span class="token operator">=</span> get_element_with_comparison<span class="token punctuation">(</span>elements<span class="token punctuation">)</span>
second_result <span class="token operator">=</span> get_element_with_comparison<span class="token punctuation">(</span>elements<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first_result <span class="token operator">==</span> second_result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍55、可以在同一个作用域内多次定义一个方法"><a href="#▍55、可以在同一个作用域内多次定义一个方法" class="headerlink" title="▍55、可以在同一个作用域内多次定义一个方法"></a><strong>▍55、可以在同一个作用域内多次定义一个方法</strong></h2><p>但是，只有最后一个会被调用，覆盖以前。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"First address"</span>


<span class="token keyword">def</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"Second address"</span>


<span class="token keyword">def</span> <span class="token function">get_address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">"Third address"</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>get_address<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Third address</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍56、在外部直接访问私有属性"><a href="#▍56、在外部直接访问私有属性" class="headerlink" title="▍56、在外部直接访问私有属性"></a><strong>▍56、在外部直接访问私有属性</strong></h2><p>在定义属性或方法时，在属性名或者方法名前增加两个下划线，定义的就是私有属性或方法。</p>
<p>如果想要在外部访问，那么只需要在名称前面加上 ‘_类名’ 变成 ‘_类名__名称’。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Engineer</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>__starting_salary <span class="token operator">=</span> <span class="token number">62000</span>


dain <span class="token operator">=</span> Engineer<span class="token punctuation">(</span><span class="token string">'Dain'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dain<span class="token punctuation">.</span>_Engineer__starting_salary<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 62000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍57、检查对象的内存使用情况"><a href="#▍57、检查对象的内存使用情况" class="headerlink" title="▍57、检查对象的内存使用情况"></a><strong>▍57、检查对象的内存使用情况</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys

<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span><span class="token string">"bitcoin"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 56</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍58、定义一个方法，可以调用任意个参数"><a href="#▍58、定义一个方法，可以调用任意个参数" class="headerlink" title="▍58、定义一个方法，可以调用任意个参数"></a><strong>▍58、定义一个方法，可以调用任意个参数</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_sum</span><span class="token punctuation">(</span><span class="token operator">*</span>arguments<span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> arguments<span class="token punctuation">:</span>
        result <span class="token operator">+=</span> i
    <span class="token keyword">return</span> result


<span class="token keyword">print</span><span class="token punctuation">(</span>get_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 6</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 15</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>get_sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 28</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍59、使用super-或父类的名称调用父类的初始化"><a href="#▍59、使用super-或父类的名称调用父类的初始化" class="headerlink" title="▍59、使用super()或父类的名称调用父类的初始化"></a><strong>▍59、使用super()或父类的名称调用父类的初始化</strong></h2><p>使用super函数调用父类的初始化方法。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Parent</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> city<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>city <span class="token operator">=</span> city
        self<span class="token punctuation">.</span>address <span class="token operator">=</span> address


<span class="token keyword">class</span> <span class="token class-name">Child</span><span class="token punctuation">(</span>Parent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> city<span class="token punctuation">,</span> address<span class="token punctuation">,</span> university<span class="token punctuation">)</span><span class="token punctuation">:</span>
        super<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>city<span class="token punctuation">,</span> address<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>university <span class="token operator">=</span> university


child <span class="token operator">=</span> Child<span class="token punctuation">(</span><span class="token string">'Peking University'</span><span class="token punctuation">,</span> <span class="token string">'Fudan University'</span><span class="token punctuation">,</span> <span class="token string">'Tsinghua University'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>university<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Tsinghua University</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用父类的名称调用父类。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Parent</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> city<span class="token punctuation">,</span> address<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>city <span class="token operator">=</span> city
        self<span class="token punctuation">.</span>address <span class="token operator">=</span> address


<span class="token keyword">class</span> <span class="token class-name">Child</span><span class="token punctuation">(</span>Parent<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> city<span class="token punctuation">,</span> address<span class="token punctuation">,</span> university<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Parent<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> city<span class="token punctuation">,</span> address<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>university <span class="token operator">=</span> university


child <span class="token operator">=</span> Child<span class="token punctuation">(</span><span class="token string">'Peking University'</span><span class="token punctuation">,</span> <span class="token string">'Fudan University'</span><span class="token punctuation">,</span> <span class="token string">'Tsinghua University'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>university<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Tsinghua University</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍60、在类中使用-操作符"><a href="#▍60、在类中使用-操作符" class="headerlink" title="▍60、在类中使用 + 操作符"></a><strong>▍60、在类中使用 + 操作符</strong></h2><p>在两个int数据类型之间使用 + 运算符时，将得到它们的和。</p>
<p>而在两个字符串数据类型之间使用它时，会将其合并。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 两数相加</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'first'</span> <span class="token operator">+</span> <span class="token string">'second'</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 字符串相加</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这个就是操作符重载，你还可以在类中使用(<strong>add</strong>)。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Expenses</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> rent<span class="token punctuation">,</span> groceries<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>rent <span class="token operator">=</span> rent
        self<span class="token punctuation">.</span>groceries <span class="token operator">=</span> groceries

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Expenses<span class="token punctuation">(</span>self<span class="token punctuation">.</span>rent <span class="token operator">+</span> other<span class="token punctuation">.</span>rent<span class="token punctuation">,</span>
                        self<span class="token punctuation">.</span>groceries <span class="token operator">+</span> other<span class="token punctuation">.</span>groceries<span class="token punctuation">)</span>


april_expenses <span class="token operator">=</span> Expenses<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
may_expenses <span class="token operator">=</span> Expenses<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

total_expenses <span class="token operator">=</span> april_expenses <span class="token operator">+</span> may_expenses
<span class="token keyword">print</span><span class="token punctuation">(</span>total_expenses<span class="token punctuation">.</span>rent<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>total_expenses<span class="token punctuation">.</span>groceries<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 500</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍61、在类中使用-lt-和-操作符"><a href="#▍61、在类中使用-lt-和-操作符" class="headerlink" title="▍61、在类中使用 < 和 == 操作符"></a><strong>▍61、在类中使用 &lt; 和 == 操作符</strong></h2><p>下面定义一个操作重载示例( &lt; 操作符)，使用<strong>lt</strong>方法。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

    <span class="token keyword">def</span> <span class="token function">__lt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> other<span class="token punctuation">.</span>score


first <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
second <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first <span class="token operator">&lt;</span> second<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>同样的，== 操作符使用<strong>eq</strong>方法。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Journey</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> location<span class="token punctuation">,</span> destination<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>location <span class="token operator">=</span> location
        self<span class="token punctuation">.</span>destination <span class="token operator">=</span> destination
        self<span class="token punctuation">.</span>duration <span class="token operator">=</span> duration

    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>location <span class="token operator">==</span> other<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token operator">and</span>
                <span class="token punctuation">(</span>self<span class="token punctuation">.</span>destination <span class="token operator">==</span> other<span class="token punctuation">.</span>destination<span class="token punctuation">)</span> <span class="token operator">and</span>
                <span class="token punctuation">(</span>self<span class="token punctuation">.</span>duration <span class="token operator">==</span> other<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span>


first <span class="token operator">=</span> Journey<span class="token punctuation">(</span><span class="token string">'Location A'</span><span class="token punctuation">,</span> <span class="token string">'Destination A'</span><span class="token punctuation">,</span> <span class="token string">'30min'</span><span class="token punctuation">)</span>
second <span class="token operator">=</span> Journey<span class="token punctuation">(</span><span class="token string">'Location B'</span><span class="token punctuation">,</span> <span class="token string">'Destination B'</span><span class="token punctuation">,</span> <span class="token string">'30min'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first <span class="token operator">==</span> second<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>还有一些其他的定义。</p>
<pre><code>__sub__() for -
__mul__() for *
__truediv__() for /
__ne__() for !=
__ge__() for &gt;=
__gt__() for &gt;</code></pre><h2 id="▍62、为类的对象定义自定义的可打印版本"><a href="#▍62、为类的对象定义自定义的可打印版本" class="headerlink" title="▍62、为类的对象定义自定义的可打印版本"></a><strong>▍62、为类的对象定义自定义的可打印版本</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Rectangle</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> a
        self<span class="token punctuation">.</span>b <span class="token operator">=</span> b

    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> repr<span class="token punctuation">(</span><span class="token string">'Rectangle with area='</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>self<span class="token punctuation">.</span>a <span class="token operator">*</span> self<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>Rectangle<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 'Rectangle with area=12'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍63、交换字符串中字符的大小写"><a href="#▍63、交换字符串中字符的大小写" class="headerlink" title="▍63、交换字符串中字符的大小写"></a><strong>▍63、交换字符串中字符的大小写</strong></h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"This is just a sentence."</span>
result <span class="token operator">=</span> string<span class="token punctuation">.</span>swapcase<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># tHIS IS JUST A SENTENCE.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍64、检查字符串是否都是空格"><a href="#▍64、检查字符串是否都是空格" class="headerlink" title="▍64、检查字符串是否都是空格"></a><strong>▍64、检查字符串是否都是空格</strong></h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"  "</span>
result <span class="token operator">=</span> string<span class="token punctuation">.</span>isspace<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍65、检查字符串是否都是字母或数字"><a href="#▍65、检查字符串是否都是字母或数字" class="headerlink" title="▍65、检查字符串是否都是字母或数字"></a><strong>▍65、检查字符串是否都是字母或数字</strong></h2><pre class="line-numbers language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">"Password"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

name <span class="token operator">=</span> <span class="token string">"Secure Password "</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

name <span class="token operator">=</span> <span class="token string">"S3cur3P4ssw0rd"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

name <span class="token operator">=</span> <span class="token string">"133"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍66、检查字符串是否都是字母"><a href="#▍66、检查字符串是否都是字母" class="headerlink" title="▍66、检查字符串是否都是字母"></a><strong>▍66、检查字符串是否都是字母</strong></h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"Name"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

string <span class="token operator">=</span> <span class="token string">"Firstname Lastname"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

string <span class="token operator">=</span> <span class="token string">"P4ssw0rd"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍67、根据参数删除字符"><a href="#▍67、根据参数删除字符" class="headerlink" title="▍67、根据参数删除字符"></a><strong>▍67、根据参数删除字符</strong></h2><p>从右侧开始。</p>
<pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"This is a sentence with       "</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># "This is a sentence with"</span>

string <span class="token operator">=</span> <span class="token string">"this here is a sentence…..,,,,aaaaasd"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token string">".,dsa"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># "this here is a sentence"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>同样的，左侧也能操作。</p>
<pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"ffffffffFirst"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># First</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍68、检查字符串是否为数字"><a href="#▍68、检查字符串是否为数字" class="headerlink" title="▍68、检查字符串是否为数字"></a><strong>▍68、检查字符串是否为数字</strong></h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"seven"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

string <span class="token operator">=</span> <span class="token string">"1337"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

string <span class="token operator">=</span> <span class="token string">"5a"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

string <span class="token operator">=</span> <span class="token string">"2**5"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍69、检查字符串是否为中文数字"><a href="#▍69、检查字符串是否为中文数字" class="headerlink" title="▍69、检查字符串是否为中文数字"></a><strong>▍69、检查字符串是否为中文数字</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 42673</span>
string <span class="token operator">=</span> <span class="token string">"四二六七三"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>isnumeric<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍70、检查字符串是否所有单词都是大写开头"><a href="#▍70、检查字符串是否所有单词都是大写开头" class="headerlink" title="▍70、检查字符串是否所有单词都是大写开头"></a><strong>▍70、检查字符串是否所有单词都是大写开头</strong></h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"This is a sentence"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

string <span class="token operator">=</span> <span class="token string">"10 Python Tips"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>

string <span class="token operator">=</span> <span class="token string">"How to Print A String in Python"</span>
<span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

string <span class="token operator">=</span> <span class="token string">"PYTHON"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍71、在元组中使用负索引"><a href="#▍71、在元组中使用负索引" class="headerlink" title="▍71、在元组中使用负索引"></a><strong>▍71、在元组中使用负索引</strong></h2><pre class="line-numbers language-python"><code class="language-python">numbers <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍72、在元组中嵌套列表和元组"><a href="#▍72、在元组中嵌套列表和元组" class="headerlink" title="▍72、在元组中嵌套列表和元组"></a><strong>▍72、在元组中嵌套列表和元组</strong></h2><pre class="line-numbers language-python"><code class="language-python">mixed_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">,</span> <span class="token string">'third'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>mixed_tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ['first', 'second', 'third']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>mixed_tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ('aaaaaaaaaa', 3, 4)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍73、快速统计元素在列表中出现的次数"><a href="#▍73、快速统计元素在列表中出现的次数" class="headerlink" title="▍73、快速统计元素在列表中出现的次数"></a><strong>▍73、快速统计元素在列表中出现的次数</strong></h2><pre class="line-numbers language-python"><code class="language-python">names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Besim"</span><span class="token punctuation">,</span> <span class="token string">"Albert"</span><span class="token punctuation">,</span> <span class="token string">"Besim"</span><span class="token punctuation">,</span> <span class="token string">"Fisnik"</span><span class="token punctuation">,</span> <span class="token string">"Meriton"</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">"Besim"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍74、使用slice-获取元素"><a href="#▍74、使用slice-获取元素" class="headerlink" title="▍74、使用slice()获取元素"></a><strong>▍74、使用slice()获取元素</strong></h2><p>使用slice()获取最后n个元素。</p>
<pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
slicing <span class="token operator">=</span> slice<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> None<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">[</span>slicing<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [4, 5, 6]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用slice()做切片任务。</p>
<pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"Data Science"</span>

slice_object <span class="token operator">=</span> slice<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> None<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span>slice_object<span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># Science</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍75、计算元素在元组中出现的次数"><a href="#▍75、计算元素在元组中出现的次数" class="headerlink" title="▍75、计算元素在元组中出现的次数"></a><strong>▍75、计算元素在元组中出现的次数</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_tuple<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍76、获取元组中元素的索引"><a href="#▍76、获取元组中元素的索引" class="headerlink" title="▍76、获取元组中元素的索引"></a><strong>▍76、获取元组中元素的索引</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_tuple<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'f'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#  2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍77、步进获得元组"><a href="#▍77、步进获得元组" class="headerlink" title="▍77、步进获得元组"></a><strong>▍77、步进获得元组</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_tuple<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (1, 4, 7, 10)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍78、通过索引获取子元组"><a href="#▍78、通过索引获取子元组" class="headerlink" title="▍78、通过索引获取子元组"></a><strong>▍78、通过索引获取子元组</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_tuple<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># (4, 5, 6, 7, 8, 9, 10)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍79、将列表、集合、字典中所有元素删除"><a href="#▍79、将列表、集合、字典中所有元素删除" class="headerlink" title="▍79、将列表、集合、字典中所有元素删除"></a><strong>▍79、将列表、集合、字典中所有元素删除</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
my_list<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># []</span>

my_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>
my_set<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_set<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># set()</span>

my_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
my_dict<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_dict<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍80、合并集合"><a href="#▍80、合并集合" class="headerlink" title="▍80、合并集合"></a><strong>▍80、合并集合</strong></h2><p>使用union()方法，返回一个新集合。</p>
<pre class="line-numbers language-python"><code class="language-python">first_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>
second_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first_set<span class="token punctuation">.</span>union<span class="token punctuation">(</span>second_set<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {1, 2, 3, 4, 5, 6}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>还可以使用update()方法，将第二个集合的元素插入到第一个集合中去。</p>
<pre class="line-numbers language-python"><code class="language-python">first_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>
second_set <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>

first_set<span class="token punctuation">.</span>update<span class="token punctuation">(</span>second_set<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first_set<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># {1, 2, 3, 4, 5, 6}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍81、在函数里输出结果"><a href="#▍81、在函数里输出结果" class="headerlink" title="▍81、在函数里输出结果"></a><strong>▍81、在函数里输出结果</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">is_positive</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Positive"</span> <span class="token keyword">if</span> number <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"Negative"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Positive</span>

is_positive<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍82、if语句中的多个条件"><a href="#▍82、if语句中的多个条件" class="headerlink" title="▍82、if语句中的多个条件"></a><strong>▍82、if语句中的多个条件</strong></h2><pre class="line-numbers language-python"><code class="language-python">math_points <span class="token operator">=</span> <span class="token number">51</span>
biology_points <span class="token operator">=</span> <span class="token number">78</span>
physics_points <span class="token operator">=</span> <span class="token number">56</span>
history_points <span class="token operator">=</span> <span class="token number">72</span>

my_conditions <span class="token operator">=</span> <span class="token punctuation">[</span>math_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span> biology_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span>
                 physics_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span> history_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">]</span>

<span class="token keyword">if</span> all<span class="token punctuation">(</span>my_conditions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Congratulations! You have passed all of the exams."</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I am sorry, but it seems that you have to repeat at least one exam."</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Congratulations! You have passed all of the exams.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍83、在一个if语句中，至少满足多个条件中的一个"><a href="#▍83、在一个if语句中，至少满足多个条件中的一个" class="headerlink" title="▍83、在一个if语句中，至少满足多个条件中的一个"></a><strong>▍83、在一个if语句中，至少满足多个条件中的一个</strong></h2><pre class="line-numbers language-python"><code class="language-python">math_points <span class="token operator">=</span> <span class="token number">40</span>
biology_points <span class="token operator">=</span> <span class="token number">78</span>
physics_points <span class="token operator">=</span> <span class="token number">56</span>
history_points <span class="token operator">=</span> <span class="token number">72</span>

my_conditions <span class="token operator">=</span> <span class="token punctuation">[</span>math_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span> biology_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span>
                 physics_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">,</span> history_points <span class="token operator">></span> <span class="token number">50</span><span class="token punctuation">]</span>

<span class="token keyword">if</span> any<span class="token punctuation">(</span>my_conditions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Congratulations! You have passed all of the exams."</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I am sorry, but it seems that you have to repeat at least one exam."</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Congratulations! You have passed all of the exams.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍84、任何非空字符串都为True"><a href="#▍84、任何非空字符串都为True" class="headerlink" title="▍84、任何非空字符串都为True"></a><strong>▍84、任何非空字符串都为True</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token string">"Non empty"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍85、任何非空列表、元组、字典都为True"><a href="#▍85、任何非空列表、元组、字典都为True" class="headerlink" title="▍85、任何非空列表、元组、字典都为True"></a><strong>▍85、任何非空列表、元组、字典都为True</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span>set<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍86、None、False、0都为False"><a href="#▍86、None、False、0都为False" class="headerlink" title="▍86、None、False、0都为False"></a><strong>▍86、None、False、0都为False</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span>None<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>bool<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍87、在函数中使用全局变量"><a href="#▍87、在函数中使用全局变量" class="headerlink" title="▍87、在函数中使用全局变量"></a><strong>▍87、在函数中使用全局变量</strong></h2><p>在函数无法直接修改全局变量的值。</p>
<pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"string"</span>


<span class="token keyword">def</span> <span class="token function">do_nothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  string <span class="token operator">=</span> <span class="token string">"inside a method"</span>


do_nothing<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># string</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可通过修饰符global，修改全局变量的值。</p>
<pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"string"</span>


<span class="token keyword">def</span> <span class="token function">do_nothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> string
    string <span class="token operator">=</span> <span class="token string">"inside a method"</span>


do_nothing<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># inside a method</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍88、计算字符串或列表中元素的数量"><a href="#▍88、计算字符串或列表中元素的数量" class="headerlink" title="▍88、计算字符串或列表中元素的数量"></a><strong>▍88、计算字符串或列表中元素的数量</strong></h2><p>使用collections中的Counter计算字符串或列表中元素的数量。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

result <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">"Banana"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Counter({'a': 3, 'n': 2, 'B': 1})</span>


result <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Counter({1: 5, 2: 1, 3: 1, 4: 1, 5: 1, 6: 1})</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍89、检查2个字符串是否为相同"><a href="#▍89、检查2个字符串是否为相同" class="headerlink" title="▍89、检查2个字符串是否为相同"></a><strong>▍89、检查2个字符串是否为相同</strong></h2><p>可以使用Counter()方法。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


<span class="token keyword">def</span> <span class="token function">check_if_anagram</span><span class="token punctuation">(</span>first_string<span class="token punctuation">,</span> second_string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_string <span class="token operator">=</span> first_string<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    second_string <span class="token operator">=</span> second_string<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> Counter<span class="token punctuation">(</span>first_string<span class="token punctuation">)</span> <span class="token operator">==</span> Counter<span class="token punctuation">(</span>second_string<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">'testinG'</span><span class="token punctuation">,</span> <span class="token string">'Testing'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">'Here'</span><span class="token punctuation">,</span> <span class="token string">'Rehe'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">'Know'</span><span class="token punctuation">,</span> <span class="token string">'Now'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以使用sorted()方法。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">check_if_anagram</span><span class="token punctuation">(</span>first_word<span class="token punctuation">,</span> second_word<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_word <span class="token operator">=</span> first_word<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    second_word <span class="token operator">=</span> second_word<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>first_word<span class="token punctuation">)</span> <span class="token operator">==</span> sorted<span class="token punctuation">(</span>second_word<span class="token punctuation">)</span>


<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"testinG"</span><span class="token punctuation">,</span> <span class="token string">"Testing"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"Here"</span><span class="token punctuation">,</span> <span class="token string">"Rehe"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># True</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>check_if_anagram<span class="token punctuation">(</span><span class="token string">"Know"</span><span class="token punctuation">,</span> <span class="token string">"Now"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># False</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍90、使用itertools中的count计算元素的数量"><a href="#▍90、使用itertools中的count计算元素的数量" class="headerlink" title="▍90、使用itertools中的count计算元素的数量"></a><strong>▍90、使用itertools中的count计算元素的数量</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> itertools <span class="token keyword">import</span> count

my_vowels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'O'</span><span class="token punctuation">,</span> <span class="token string">'U'</span><span class="token punctuation">]</span>

current_counter <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token punctuation">)</span>

string <span class="token operator">=</span> <span class="token string">"This is just a sentence."</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> string<span class="token punctuation">:</span>
    <span class="token keyword">if</span> i <span class="token keyword">in</span> my_vowels<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Current vowel: {i}"</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">"Number of vowels found so far: {next(current_counter)}"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出如下。</p>
<pre><code>Current vowel: i
Number of vowels found so far: 0
Current vowel: i
Number of vowels found so far: 1
Current vowel: u
Number of vowels found so far: 2
Current vowel: a
Number of vowels found so far: 3
Current vowel: e
Number of vowels found so far: 4
Current vowel: e
Number of vowels found so far: 5
Current vowel: e
Number of vowels found so far: 6</code></pre><h2 id="▍91、对字符串或列表的元素进行次数排序"><a href="#▍91、对字符串或列表的元素进行次数排序" class="headerlink" title="▍91、对字符串或列表的元素进行次数排序"></a><strong>▍91、对字符串或列表的元素进行次数排序</strong></h2><p>collections模块的Counter()，默认情况下是不会根据元素的频率对它们进行排序的。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

result <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Counter({2: 5, 1: 1, 3: 1})</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [(2, 5), (1, 1), (3, 1)]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>map()函数将给定函数应用于可迭代对象(列表、元组等)，然后返回结果(map对象)。</p>
<h2 id="▍92、查找列表中出现频率最高的元素"><a href="#▍92、查找列表中出现频率最高的元素" class="headerlink" title="▍92、查找列表中出现频率最高的元素"></a><strong>▍92、查找列表中出现频率最高的元素</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>max<span class="token punctuation">(</span>set<span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span>my_list<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># a</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍93、copy-和deepcopy-的区别"><a href="#▍93、copy-和deepcopy-的区别" class="headerlink" title="▍93、copy()和deepcopy()的区别"></a><strong>▍93、copy()和deepcopy()的区别</strong></h2><p>浅拷贝: 拷贝父对象，但是不会拷贝对象的内部的子对象。</p>
<p>深拷贝: 拷贝父对象. 以及其内部的子对象。</p>
<p>下面是一个copy()的例子。</p>
<pre class="line-numbers language-python"><code class="language-python">first_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

second_list <span class="token operator">=</span> first_list<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>

first_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">831</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [[1, 2, 831], ['a', 'b', 'c']]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>second_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [[1, 2, 831], ['a', 'b', 'c']]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里是一个deepcopy()的例子。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> copy

first_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

second_list <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>first_list<span class="token punctuation">)</span>

first_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">831</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>first_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [[1, 2, 831], ['a', 'b', 'c']]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>second_list<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [[1, 2, 3], ['a', 'b', 'c']]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍94、访问字典中不存在的键时，避免报错"><a href="#▍94、访问字典中不存在的键时，避免报错" class="headerlink" title="▍94、访问字典中不存在的键时，避免报错"></a><strong>▍94、访问字典中不存在的键时，避免报错</strong></h2><p>如果你想访问字典一个不存在的键，代码会报错。</p>
<pre class="line-numbers language-python"><code class="language-python">my_dictonary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"surname"</span><span class="token punctuation">:</span> <span class="token string">"Surname"</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_dictonary<span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>错误如下。</p>
<pre><code>KeyError: 'age'</code></pre><p>可以通过使用defaultdict()，代码将不会报错。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict

my_dictonary <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>str<span class="token punctuation">)</span>
my_dictonary<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Name"</span>
my_dictonary<span class="token punctuation">[</span><span class="token string">'surname'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Surname"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_dictonary<span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍95、构建迭代器"><a href="#▍95、构建迭代器" class="headerlink" title="▍95、构建迭代器"></a><strong>▍95、构建迭代器</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">OddNumbers</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        x <span class="token operator">=</span> self<span class="token punctuation">.</span>a
        self<span class="token punctuation">.</span>a <span class="token operator">+=</span> <span class="token number">2</span>
        <span class="token keyword">return</span> x


odd_numbers_object <span class="token operator">=</span> OddNumbers<span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator <span class="token operator">=</span> iter<span class="token punctuation">(</span>odd_numbers_object<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>next<span class="token punctuation">(</span>iterator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍96、删除列表的重复项"><a href="#▍96、删除列表的重复项" class="headerlink" title="▍96、删除列表的重复项"></a><strong>▍96、删除列表的重复项</strong></h2><pre class="line-numbers language-python"><code class="language-python">my_set <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>my_set<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [1, 2, 3, 4, 5]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍97、打印模块的安装位置"><a href="#▍97、打印模块的安装位置" class="headerlink" title="▍97、打印模块的安装位置"></a><strong>▍97、打印模块的安装位置</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pandas

<span class="token keyword">print</span><span class="token punctuation">(</span>pandas<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># &lt;module 'torch' from '/Users/...'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍98、使用not-in检查一个值是否在列表中"><a href="#▍98、使用not-in检查一个值是否在列表中" class="headerlink" title="▍98、使用not in检查一个值是否在列表中"></a><strong>▍98、使用not in检查一个值是否在列表中</strong></h2><pre class="line-numbers language-python"><code class="language-python">odd_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
even_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> i <span class="token operator">not</span> <span class="token keyword">in</span> odd_numbers<span class="token punctuation">:</span>
        even_numbers<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>even_numbers<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># [0, 2, 4, 6, 8]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍99、sort-和sorted-的区别"><a href="#▍99、sort-和sorted-的区别" class="headerlink" title="▍99、sort()和sorted()的区别"></a><strong>▍99、sort()和sorted()的区别</strong></h2><p>sort()：对原始列表进行排序</p>
<p>sorted()：返回一个新的排序列表</p>
<pre class="line-numbers language-python"><code class="language-python">groceries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'milk'</span><span class="token punctuation">,</span> <span class="token string">'bread'</span><span class="token punctuation">,</span> <span class="token string">'tea'</span><span class="token punctuation">]</span>

new_groceries <span class="token operator">=</span> sorted<span class="token punctuation">(</span>groceries<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># new_groceries = ['bread', 'milk', 'tea']</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>new_groceries<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># groceries = ['milk', 'bread', 'tea']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>groceries<span class="token punctuation">)</span>

groceries<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># groceries = ['bread', 'milk', 'tea']</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>groceries<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍100、使用uuid模块生成唯一ID"><a href="#▍100、使用uuid模块生成唯一ID" class="headerlink" title="▍100、使用uuid模块生成唯一ID"></a><strong>▍100、使用uuid模块生成唯一ID</strong></h2><p>UUID代表唯一标识符。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> uuid

<span class="token comment" spellcheck="true"># 根据主机ID、序列号和当前时间生成UUID</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 308490b6-afe4-11eb-95f7-0c4de9a0c5af</span>

<span class="token comment" spellcheck="true"># 生成一个随机UUID</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 93bc700b-253e-4081-a358-24b60591076a</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="13个有关基础数据结构的使用技巧"><a href="#13个有关基础数据结构的使用技巧" class="headerlink" title="13个有关基础数据结构的使用技巧"></a>13个有关基础数据结构的使用技巧</h1><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>与列表相关的6个操作，介绍如下；</p>
<h3 id="1-将两个列表合并到一个字典中"><a href="#1-将两个列表合并到一个字典中" class="headerlink" title="1. 将两个列表合并到一个字典中"></a>1. 将两个列表合并到一个字典中</h3><p>假设我们在Python中有两个列表，我们希望将它们合并为字典形式，其中一个列表的项目作为字典的键，另一个作为值。这是在用 Python 编写代码时经常遇到的一个非常常见的问题。</p>
<p>但是为了解决这个问题，我们需要考虑几个限制，比如两个列表的大小，两个列表中项目的类型，以及其中是否有重复的项目，尤其是我们将使用的项目 作为钥匙。我们可以通过使用像 <code>zip</code> 这样的内置函数来克服这个问题。</p>
<pre class="line-numbers language-python"><code class="language-python">keys_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span>
values_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'bold'</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># 有 3 种方法可以将这两个列表转换为字典</span>
<span class="token comment" spellcheck="true"># 1.使用Python zip、dict函数</span>
dict_method_1 <span class="token operator">=</span> dict<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>keys_list<span class="token punctuation">,</span> values_list<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 2. 使用带有字典推导式的 zip 函数</span>
dict_method_2 <span class="token operator">=</span> <span class="token punctuation">{</span>key<span class="token punctuation">:</span>value <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> zip<span class="token punctuation">(</span>keys_list<span class="token punctuation">,</span> values_list<span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment" spellcheck="true"># 3.循环使用zip函数</span>
items_tuples <span class="token operator">=</span> zip<span class="token punctuation">(</span>keys_list<span class="token punctuation">,</span> values_list<span class="token punctuation">)</span> 
dict_method_3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> items_tuples<span class="token punctuation">:</span> 
    <span class="token keyword">if</span> key <span class="token keyword">in</span> dict_method_3<span class="token punctuation">:</span> 
        <span class="token keyword">pass</span> 
    <span class="token keyword">else</span><span class="token punctuation">:</span> 
        dict_method_3<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value

<span class="token keyword">print</span><span class="token punctuation">(</span>dict_method_1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dict_method_2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dict_method_3<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/ML/image-20211011103631467.png" alt=""></p>
<h3 id="2-将两个或多个列表合并为一个列表"><a href="#2-将两个或多个列表合并为一个列表" class="headerlink" title="2.将两个或多个列表合并为一个列表"></a>2.将两个或多个列表合并为一个列表</h3><p>当我们有两个或更多列表时，我们希望将它们全部收集到一个大列表中，其中较小列表的所有第一项构成较大列表中的第一个列表。</p>
<p>例如，如果我有 4 个列表 <code>[1,2,3]</code>、<code>['a','b','c']</code>、<code>['h','e','y']</code>， 和<code>[4,5,6]</code>，我们想为这四个列表创建一个新列表；它将是 <code>[[1,'a','h',4], [2,'b','e',5], [3,'c','y',6]]</code> 。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> missing_val <span class="token operator">=</span> None<span class="token punctuation">)</span><span class="token punctuation">:</span>
    max_length <span class="token operator">=</span> max<span class="token punctuation">(</span><span class="token punctuation">[</span>len<span class="token punctuation">(</span>lst<span class="token punctuation">)</span> <span class="token keyword">for</span> lst <span class="token keyword">in</span> args<span class="token punctuation">]</span><span class="token punctuation">)</span>
    outList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>max_length<span class="token punctuation">)</span><span class="token punctuation">:</span>
        outList<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>args<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">if</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">(</span>args<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">else</span> missing_val <span class="token keyword">for</span> k <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> outList

merge<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'h'</span><span class="token punctuation">,</span><span class="token string">'e'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011103715871.png" alt=""></p>
<h3 id="3-对字典列表进行排序"><a href="#3-对字典列表进行排序" class="headerlink" title="3. 对字典列表进行排序"></a>3. 对字典列表进行排序</h3><p>下一组日常列表任务是排序任务。根据列表中包含的项目的数据类型，我们将采用稍微不同的方式对它们进行排序。让我们首先从对字典列表进行排序开始。</p>
<pre class="line-numbers language-python"><code class="language-python">dicts_lists <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string">"Name"</span><span class="token punctuation">:</span> <span class="token string">"James"</span><span class="token punctuation">,</span>
    <span class="token string">"Age"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
     <span class="token string">"Name"</span><span class="token punctuation">:</span> <span class="token string">"May"</span><span class="token punctuation">,</span>
     <span class="token string">"Age"</span><span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string">"Name"</span><span class="token punctuation">:</span> <span class="token string">"Katy"</span><span class="token punctuation">,</span>
    <span class="token string">"Age"</span><span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># 方法一</span>
dicts_lists<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> item<span class="token punctuation">:</span> item<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"Age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法二</span>
<span class="token keyword">from</span> operator <span class="token keyword">import</span> itemgetter
f <span class="token operator">=</span> itemgetter<span class="token punctuation">(</span><span class="token string">'Name'</span><span class="token punctuation">)</span>
dicts_lists<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span>f<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011103736312.png" alt=""></p>
<h3 id="4-对字符串列表进行排序"><a href="#4-对字符串列表进行排序" class="headerlink" title="4. 对字符串列表进行排序"></a>4. 对字符串列表进行排序</h3><p>我们经常面临包含字符串的列表，我们需要按字母顺序、长度或我们想要或我们的应用程序需要的任何其他因素对这些列表进行排序。</p>
<p>现在，我应该提到这些是对字符串列表进行排序的直接方法，但有时您可能需要实现排序算法来解决该问题。</p>
<pre class="line-numbers language-python"><code class="language-python">my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># 方法一</span>
my_list<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span> 
my_list <span class="token operator">=</span> sorted<span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> key<span class="token operator">=</span>len<span class="token punctuation">)</span> 

<span class="token comment" spellcheck="true"># 方法二</span>
<span class="token keyword">import</span> locale
<span class="token keyword">from</span> functools <span class="token keyword">import</span> cmp_to_key
my_list <span class="token operator">=</span> sorted<span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> key<span class="token operator">=</span>cmp_to_key<span class="token punctuation">(</span>locale<span class="token punctuation">.</span>strcoll<span class="token punctuation">)</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011103753084.png" alt=""></p>
<h3 id="5-根据另一个列表对列表进行排序"><a href="#5-根据另一个列表对列表进行排序" class="headerlink" title="5. 根据另一个列表对列表进行排序"></a>5. 根据另一个列表对列表进行排序</h3><p>有时，我们可能想要/需要使用一个列表来对另一个列表进行排序。因此，我们将有一个数字列表（索引）和一个我想使用这些索引进行排序的列表。</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

sortedList <span class="token operator">=</span>  <span class="token punctuation">[</span>val <span class="token keyword">for</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token keyword">in</span> sorted<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sortedList<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011103815532.png" alt=""></p>
<h3 id="6-将列表映射到字典"><a href="#6-将列表映射到字典" class="headerlink" title="6. 将列表映射到字典"></a>6. 将列表映射到字典</h3><p>如果给定一个列表并将其映射到字典中。也就是说，我想将我的列表转换为带有数字键的字典，应该怎么做呢？</p>
<pre class="line-numbers language-python"><code class="language-python">mylist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#Map the list into a dict using the map, zip and dict functions</span>
mapped_dict <span class="token operator">=</span> dict<span class="token punctuation">(</span>zip<span class="token punctuation">(</span>itr<span class="token punctuation">,</span> map<span class="token punctuation">(</span>fn<span class="token punctuation">,</span> itr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>与字典相关的2个操作，介绍如下；</p>
<h3 id="7-合并两个或多个字典"><a href="#7-合并两个或多个字典" class="headerlink" title="7. 合并两个或多个字典"></a>7. 合并两个或多个字典</h3><p>假设我们有两个或多个字典，并且我们希望将它们全部合并为一个具有唯一键的字典。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict

<span class="token keyword">def</span> <span class="token function">merge_dicts</span><span class="token punctuation">(</span><span class="token operator">*</span>dicts<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mdict <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>list<span class="token punctuation">)</span>
    <span class="token keyword">for</span> dict <span class="token keyword">in</span> dicts<span class="token punctuation">:</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> dict<span class="token punctuation">:</span>
        res<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>d<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> dict<span class="token punctuation">(</span>mdict<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="8-反转字典"><a href="#8-反转字典" class="headerlink" title="8. 反转字典"></a>8. 反转字典</h3><p>一个非常常见的字典任务是如果我们有一个字典并且想要反转它的键和值。因此，键将成为值，而值将成为键。</p>
<p>当我们这样做时，我们需要确保我没有重复的键，值可以重复，但键不能，并确保所有新键都是可散列的。</p>
<pre class="line-numbers language-python"><code class="language-python">my_dict <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">"brand"</span><span class="token punctuation">:</span> <span class="token string">"Ford"</span><span class="token punctuation">,</span>
  <span class="token string">"model"</span><span class="token punctuation">:</span> <span class="token string">"Mustang"</span><span class="token punctuation">,</span>
  <span class="token string">"year"</span><span class="token punctuation">:</span> <span class="token number">1964</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true"># 方法一</span>
my_inverted_dict_1 <span class="token operator">=</span> dict<span class="token punctuation">(</span>map<span class="token punctuation">(</span>reversed<span class="token punctuation">,</span> my_dict<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法二</span>
<span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
my_inverted_dict_2 <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>list<span class="token punctuation">)</span>
<span class="token punctuation">{</span>my_inverted_dict_2<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> my_dict<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>my_inverted_dict_1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_inverted_dict_2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011103935082.png" alt=""></p>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>与字符串相关的3个操作，介绍如下；</p>
<h3 id="9-使用-f-字符串"><a href="#9-使用-f-字符串" class="headerlink" title="9. 使用 f 字符串"></a>9. 使用 f 字符串</h3><p>格式化字符串可能是您几乎每天都需要完成的第一项任务。在 Python 中有多种方法可以格式化字符串；我最喜欢的是使用 f 字符串。</p>
<pre class="line-numbers language-python"><code class="language-python">str_val <span class="token operator">=</span> <span class="token string">'books'</span>
num_val <span class="token operator">=</span> <span class="token number">15</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{num_val} {str_val}'</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{num_val % 2 = }'</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{str_val!r}'</span><span class="token punctuation">)</span> 

price_val <span class="token operator">=</span> <span class="token number">5.18362</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{price_val:.2f}'</span><span class="token punctuation">)</span> 

<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">;</span>
date_val <span class="token operator">=</span> datetime<span class="token punctuation">.</span>utcnow<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token string">'{date_val=:%Y-%m-%d}'</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011104001178.png" alt=""></p>
<h3 id="10-检查子串"><a href="#10-检查子串" class="headerlink" title="10. 检查子串"></a>10. 检查子串</h3><p>我之前需要多次执行的一项非常常见的任务是，检查字符串是否在字符串列表中。</p>
<pre class="line-numbers language-python"><code class="language-python">addresses <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"123 Elm Street"</span><span class="token punctuation">,</span> <span class="token string">"531 Oak Street"</span><span class="token punctuation">,</span> <span class="token string">"678 Maple Street"</span><span class="token punctuation">]</span>
street <span class="token operator">=</span> <span class="token string">"Elm Street"</span>

<span class="token comment" spellcheck="true"># 方法一</span>
<span class="token keyword">for</span> address <span class="token keyword">in</span> addresses<span class="token punctuation">:</span>
    <span class="token keyword">if</span> address<span class="token punctuation">.</span>find<span class="token punctuation">(</span>street<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法二</span>
<span class="token keyword">for</span> address <span class="token keyword">in</span> addresses<span class="token punctuation">:</span>
    <span class="token keyword">if</span> street <span class="token keyword">in</span> address<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011104023767.png" alt=""></p>
<h3 id="11-以字节为单位获取字符串的大小"><a href="#11-以字节为单位获取字符串的大小" class="headerlink" title="11. 以字节为单位获取字符串的大小"></a>11. 以字节为单位获取字符串的大小</h3><p>有时，尤其是在构建内存关键应用程序时，我们需要知道我们的字符串使用了多少内存。幸运的是，这可以通过一行代码快速完成。</p>
<pre class="line-numbers language-python"><code class="language-python">str1 <span class="token operator">=</span> <span class="token string">"hello"</span>
str2 <span class="token operator">=</span> <span class="token string">"😀"</span>

<span class="token keyword">def</span> <span class="token function">str_size</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span>s<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>str_size<span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str_size<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<p><img src="/images/loading.gif" data-original="../images/language/image-20211011104040633.png" alt=""></p>
<h2 id="输入-输出操作"><a href="#输入-输出操作" class="headerlink" title="输入/输出操作"></a>输入/输出操作</h2><p>与输入/输出操作相关的2个操作，介绍如下；</p>
<h3 id="12-检查文件是否存在"><a href="#12-检查文件是否存在" class="headerlink" title="12. 检查文件是否存在"></a>12. 检查文件是否存在</h3><p>在数据科学和许多其他应用程序中，我们经常需要从文件中读取数据或向其中写入数据。但要做到这一点，我们需要检查文件是否存在。因此，我们的代码不会因错误而终止。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 方法一</span>
<span class="token keyword">import</span> os 
exists <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 方法二</span>
<span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
config <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">'/path/to/file'</span><span class="token punctuation">)</span> 
<span class="token keyword">if</span> config<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="13-解析电子表格"><a href="#13-解析电子表格" class="headerlink" title="13.解析电子表格"></a>13.解析电子表格</h3><p>另一种非常常见的文件交互是从电子表格中解析数据。幸运的是，我们有 CSV 模块来帮助我们有效地执行该任务。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> csv
csv_mapping_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">"/path/to/data.csv"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> my_data<span class="token punctuation">:</span>
    csv_reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>my_data<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">","</span><span class="token punctuation">)</span>
    line_count <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> line <span class="token keyword">in</span> csv_reader<span class="token punctuation">:</span>
        <span class="token keyword">if</span> line_count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            header <span class="token operator">=</span> line
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            row_dict <span class="token operator">=</span> <span class="token punctuation">{</span>key<span class="token punctuation">:</span> value <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> zip<span class="token punctuation">(</span>header<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">}</span>
            csv_mapping_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>row_dict<span class="token punctuation">)</span>
        line_count <span class="token operator">+=</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="25条实用简洁的python代码"><a href="#25条实用简洁的python代码" class="headerlink" title="25条实用简洁的python代码"></a>25条实用简洁的python代码</h1><h2 id="1-交换两个变量的值"><a href="#1-交换两个变量的值" class="headerlink" title="1. 交换两个变量的值"></a>1. 交换两个变量的值</h2><pre class="line-numbers language-python"><code class="language-python">
num_1<span class="token punctuation">,</span> num_2 <span class="token operator">=</span> <span class="token number">666</span><span class="token punctuation">,</span> <span class="token number">999</span>
<span class="token comment" spellcheck="true"># 一行代码搞定交换两个变量的值</span>
num_1<span class="token punctuation">,</span> num_2 <span class="token operator">=</span> num_2<span class="token punctuation">,</span> num_1
<span class="token keyword">print</span><span class="token punctuation">(</span>num_1<span class="token punctuation">,</span> num_2<span class="token punctuation">)</span>
输出：
<span class="token number">999</span> <span class="token number">666</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="2-查找对象使用的内存"><a href="#2-查找对象使用的内存" class="headerlink" title="2. 查找对象使用的内存"></a>2. 查找对象使用的内存</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys

slogan <span class="token operator">=</span> <span class="token string">"今天你学python了么？"</span>
size <span class="token operator">=</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span>slogan<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
输出：
<span class="token number">100</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-反转字符串"><a href="#3-反转字符串" class="headerlink" title="3. 反转字符串"></a>3. 反转字符串</h2><pre class="line-numbers language-python"><code class="language-python">slogan <span class="token operator">=</span> <span class="token string">"今天你学习python了么？"</span>
<span class="token comment" spellcheck="true"># 一行代码搞定字符串的反转</span>
new_slogan <span class="token operator">=</span> slogan<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_slogan<span class="token punctuation">)</span>
输出：
？么了nohtyp习学你天今
Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-检查字符串是否为回文"><a href="#4-检查字符串是否为回文" class="headerlink" title="4. 检查字符串是否为回文"></a>4. 检查字符串是否为回文</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个判断字符串是否是回文的函数</span>
<span class="token keyword">def</span> <span class="token function">is_palindrome</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> string <span class="token operator">==</span> string<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

示例：调用判断函数来进行判断slogan是否是回文字符串
slogan <span class="token operator">=</span> <span class="token string">"今天你学python了么？"</span>
_ <span class="token operator">=</span> is_palindrome<span class="token punctuation">(</span>slogan<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
输出：
<span class="token boolean">False</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="5-将字符串列表合并为单个字符串"><a href="#5-将字符串列表合并为单个字符串" class="headerlink" title="5. 将字符串列表合并为单个字符串"></a>5. 将字符串列表合并为单个字符串</h2><pre class="line-numbers language-python"><code class="language-python">slogan <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"今"</span><span class="token punctuation">,</span> <span class="token string">"天"</span><span class="token punctuation">,</span> <span class="token string">"你"</span><span class="token punctuation">,</span> <span class="token string">"学"</span><span class="token punctuation">,</span> <span class="token string">"python"</span><span class="token punctuation">,</span> <span class="token string">"了"</span><span class="token punctuation">,</span> <span class="token string">"么"</span><span class="token punctuation">,</span> <span class="token string">"？"</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true"># 一行代码搞定将字符串列表合并为单个字符串</span>
real_slogan <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>slogan<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>real_slogan<span class="token punctuation">)</span>
输出：
今天你学python了么？

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="6-查找存在于两个列表中任一列表存在的元素"><a href="#6-查找存在于两个列表中任一列表存在的元素" class="headerlink" title="6. 查找存在于两个列表中任一列表存在的元素"></a>6. 查找存在于两个列表中任一列表存在的元素</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个函数用来查找存在于两个列表中任一列表存在的元素</span>
<span class="token keyword">def</span> <span class="token function">union</span><span class="token punctuation">(</span>list1<span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> list<span class="token punctuation">(</span>set<span class="token punctuation">(</span>list1 <span class="token operator">+</span> list2<span class="token punctuation">)</span><span class="token punctuation">)</span>

示例：调用该函数用来查找存在于两个列表中任一列表存在的元素
list1<span class="token punctuation">,</span> list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
new_list <span class="token operator">=</span> union<span class="token punctuation">(</span>list1<span class="token punctuation">,</span> list2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_list<span class="token punctuation">)</span>
输出：
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="7-打印N次字符串"><a href="#7-打印N次字符串" class="headerlink" title="7. 打印N次字符串"></a>7. 打印N次字符串</h2><pre class="line-numbers language-python"><code class="language-python">slogan <span class="token operator">=</span> <span class="token string">"今天你学python了么？"</span>
new_slogan <span class="token operator">=</span> <span class="token number">11</span><span class="token operator">*</span>slogan
<span class="token keyword">print</span><span class="token punctuation">(</span>new_slogan<span class="token punctuation">)</span>
输出：
今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？今天你学python了么？

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-链式比较"><a href="#8-链式比较" class="headerlink" title="8. 链式比较"></a>8. 链式比较</h2><pre class="line-numbers language-python"><code class="language-python">number <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">98</span><span class="token operator">&lt;</span>number<span class="token operator">&lt;</span><span class="token number">102</span><span class="token punctuation">)</span>
输出：
<span class="token boolean">True</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">==</span>number<span class="token operator">&lt;</span><span class="token number">102</span><span class="token punctuation">)</span>
输出：
<span class="token boolean">True</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="9-单词大小写"><a href="#9-单词大小写" class="headerlink" title="9. 单词大小写"></a>9. 单词大小写</h2><pre class="line-numbers language-python"><code class="language-python">slogan <span class="token operator">=</span> <span class="token string">"python happy"</span>
<span class="token comment" spellcheck="true"># 一行代码搞定单词大小写转换</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>slogan<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 一行代码搞定单词首字母大写</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>slogan<span class="token punctuation">.</span>capitalize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 一行代码搞定将每个单词的首字母转为大写，其余小写</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>slogan<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
输出：
PYTHON HAPPY
Python happy
Python Happy

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="10-统计列表中元素的频率"><a href="#10-统计列表中元素的频率" class="headerlink" title="10. 统计列表中元素的频率"></a>10. 统计列表中元素的频率</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true"># 一行代码搞定求列表中每个元素出现的频率</span>
count <span class="token operator">=</span> Counter<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
输出：
Counter<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="11-判断字符串所含元素是否相同"><a href="#11-判断字符串所含元素是否相同" class="headerlink" title="11. 判断字符串所含元素是否相同"></a>11. 判断字符串所含元素是否相同</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


course <span class="token operator">=</span> <span class="token string">"python"</span>
new_course <span class="token operator">=</span> <span class="token string">"ypthon"</span>
count_1<span class="token punctuation">,</span> count_2 <span class="token operator">=</span> Counter<span class="token punctuation">(</span>course<span class="token punctuation">)</span><span class="token punctuation">,</span> Counter<span class="token punctuation">(</span>new_course<span class="token punctuation">)</span>
<span class="token keyword">if</span> count_1 <span class="token operator">==</span> count_2<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"两个字符串所含元素相同！"</span><span class="token punctuation">)</span>
输出：
两个字符串所含元素相同！

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="12-将数字字符串转化为数字列表"><a href="#12-将数字字符串转化为数字列表" class="headerlink" title="12. 将数字字符串转化为数字列表"></a>12. 将数字字符串转化为数字列表</h2><pre class="line-numbers language-python"><code class="language-python">
string <span class="token operator">=</span> <span class="token string">"666888"</span>
numbers <span class="token operator">=</span> list<span class="token punctuation">(</span>map<span class="token punctuation">(</span>int<span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
输出：
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="13-使用enumerate-函数来获取索引-数值对"><a href="#13-使用enumerate-函数来获取索引-数值对" class="headerlink" title="13. 使用enumerate() 函数来获取索引-数值对"></a>13. 使用enumerate() 函数来获取索引-数值对</h2><pre class="line-numbers language-python"><code class="language-python">string <span class="token operator">=</span> <span class="token string">"python"</span>
<span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token keyword">in</span> enumerate<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
输出：
<span class="token number">0</span> p
<span class="token number">1</span> y
<span class="token number">2</span> t
<span class="token number">3</span> h
<span class="token number">4</span> o
<span class="token number">5</span> n

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="14-代码执行消耗时间"><a href="#14-代码执行消耗时间" class="headerlink" title="14. 代码执行消耗时间"></a>14. 代码执行消耗时间</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time

start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>

numbers <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
time_consume <span class="token operator">=</span> end_time <span class="token operator">-</span> start_time
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"代码执行消耗的时间是：{}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>time_consume<span class="token punctuation">)</span><span class="token punctuation">)</span>
输出示例：
代码执行消耗的时间是：<span class="token number">0.002994537353515625</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="15-比较集合和字典的查找效率"><a href="#15-比较集合和字典的查找效率" class="headerlink" title="15.比较集合和字典的查找效率"></a>15.比较集合和字典的查找效率</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time

number <span class="token operator">=</span> <span class="token number">999999</span>
<span class="token comment" spellcheck="true"># 生成数字列表和数字集合</span>
numbers <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
digits <span class="token operator">=</span> <span class="token punctuation">{</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 列表的查找</span>
_ <span class="token operator">=</span> number <span class="token keyword">in</span> numbers
end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"列表查找时间为：{}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>end_time <span class="token operator">-</span> start_time<span class="token punctuation">)</span><span class="token punctuation">)</span>

start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 集合的查找</span>
_ <span class="token operator">=</span> number <span class="token keyword">in</span> digits
end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"集合查找时间为：{}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>end_time <span class="token operator">-</span> start_time<span class="token punctuation">)</span><span class="token punctuation">)</span>
输出：
列表查找时间为：<span class="token number">0.060904741287231445</span>
集合查找时间为：<span class="token number">0.0</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="16-字典的合并"><a href="#16-字典的合并" class="headerlink" title="16. 字典的合并"></a>16. 字典的合并</h2><pre class="line-numbers language-python"><code class="language-python">info_1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">:</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">}</span>
info_2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"爆款写作"</span><span class="token punctuation">:</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">"跃迁"</span><span class="token punctuation">:</span> <span class="token number">49</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true"># 一行代码搞定合并两个字典</span>
new_info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">**</span>info_1<span class="token punctuation">,</span> <span class="token operator">**</span>info_2<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_info<span class="token punctuation">)</span>
输出：
<span class="token punctuation">{</span><span class="token string">'apple'</span><span class="token punctuation">:</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'爆款写作'</span><span class="token punctuation">:</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">'跃迁'</span><span class="token punctuation">:</span> <span class="token number">49</span><span class="token punctuation">}</span>
Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="17-随机采样"><a href="#17-随机采样" class="headerlink" title="17. 随机采样"></a>17. 随机采样</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> random

books <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"爆款写作"</span><span class="token punctuation">,</span> <span class="token string">"这个世界，偏爱会写作的人"</span><span class="token punctuation">,</span> <span class="token string">"写作七堂课"</span><span class="token punctuation">,</span> <span class="token string">"越书写越明白"</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true"># 随机取出2本书阅读</span>
reading_book <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>books<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>reading_book<span class="token punctuation">)</span>
输出：
<span class="token punctuation">[</span><span class="token string">'这个世界，偏爱会写作的人'</span><span class="token punctuation">,</span> <span class="token string">'越书写越明白'</span><span class="token punctuation">]</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="18-判断列表中元素的唯一性"><a href="#18-判断列表中元素的唯一性" class="headerlink" title="18. 判断列表中元素的唯一性"></a>18. 判断列表中元素的唯一性</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义一个函数判断列表中元素的唯一性</span>
<span class="token keyword">def</span> <span class="token function">is_unique</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> len<span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token operator">==</span> len<span class="token punctuation">(</span>set<span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token comment" spellcheck="true"># 调用该函数判断一个列表是否是唯一性的</span>
numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
_ <span class="token operator">=</span> is_unique<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
输出：
<span class="token boolean">False</span>
Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="19-计算阶乘-递归函数实现"><a href="#19-计算阶乘-递归函数实现" class="headerlink" title="19. 计算阶乘 递归函数实现"></a>19. 计算阶乘 递归函数实现</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fac</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> n<span class="token operator">*</span>fac<span class="token punctuation">(</span>n<span class="token number">-1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>

number <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"n="</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"result = {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>fac<span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
输出：
n<span class="token operator">=</span><span class="token number">5</span>
result <span class="token operator">=</span> <span class="token number">120</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="20-列出当前目录下的所有文件和目录名"><a href="#20-列出当前目录下的所有文件和目录名" class="headerlink" title="20. 列出当前目录下的所有文件和目录名"></a>20. 列出当前目录下的所有文件和目录名</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> os


files <span class="token operator">=</span> <span class="token punctuation">[</span>file <span class="token keyword">for</span> file <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span>
输出：
<span class="token punctuation">[</span><span class="token string">'.idea'</span><span class="token punctuation">,</span> <span class="token string">'2048.py'</span><span class="token punctuation">,</span> <span class="token string">'access.log'</span><span class="token punctuation">,</span> <span class="token string">'beautiful_girls'</span><span class="token punctuation">,</span> <span class="token string">'beautiful_girls_photos'</span><span class="token punctuation">,</span> <span class="token string">'boy.py'</span><span class="token punctuation">,</span> <span class="token string">'cache.json'</span><span class="token punctuation">,</span> <span class="token string">'catoffice.py'</span><span class="token punctuation">,</span> <span class="token string">'cookie.json'</span><span class="token punctuation">,</span> <span class="token string">'data.csv'</span><span class="token punctuation">,</span> <span class="token string">'data.txt'</span><span class="token punctuation">,</span> <span class="token string">'diary'</span><span class="token punctuation">,</span> <span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token string">'filtered_words.txt'</span><span class="token punctuation">,</span> <span class="token string">'geckodriver.log'</span><span class="token punctuation">,</span> <span class="token string">'get_movies_info2.py'</span><span class="token punctuation">,</span> <span class="token string">'girl.py'</span><span class="token punctuation">,</span> <span class="token string">'girl1.py'</span><span class="token punctuation">,</span> <span class="token string">'ha.conf'</span><span class="token punctuation">,</span> <span class="token string">'homework.py'</span><span class="token punctuation">,</span> <span class="token string">'homework3.py'</span><span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token string">'info.ini'</span><span class="token punctuation">,</span> <span class="token string">'notepad.py'</span><span class="token punctuation">,</span> <span class="token string">'rent.csv'</span><span class="token punctuation">,</span> <span class="token string">'stock.txt'</span><span class="token punctuation">,</span> <span class="token string">'student.txt'</span><span class="token punctuation">,</span> <span class="token string">'student.xlsx'</span><span class="token punctuation">,</span> <span class="token string">'student_register_info.json'</span><span class="token punctuation">,</span> <span class="token string">'test.png'</span><span class="token punctuation">,</span> <span class="token string">'test_picture.txt'</span><span class="token punctuation">,</span> <span class="token string">'zhihu.html'</span><span class="token punctuation">,</span> <span class="token string">'__pycache__'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_200行代码实现2048小游戏.py'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_python实现图片转字符画.py'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_实现一个简单的计算器.py'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_爬取优美图美女写真.py'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_爬取北京58租房信息.py'</span><span class="token punctuation">,</span> <span class="token string">'九尾1997_路飞学城注册页面'</span><span class="token punctuation">,</span> <span class="token string">'校园管理系统.py'</span><span class="token punctuation">,</span> <span class="token string">'爬虫模拟登录.py'</span><span class="token punctuation">,</span> <span class="token string">'记事本.m4a'</span><span class="token punctuation">]</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="21-把原字典的键值对颠倒并生产新的字典"><a href="#21-把原字典的键值对颠倒并生产新的字典" class="headerlink" title="21. 把原字典的键值对颠倒并生产新的字典"></a>21. 把原字典的键值对颠倒并生产新的字典</h2><pre class="line-numbers language-python"><code class="language-python">dict_1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">"python"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">"java"</span><span class="token punctuation">}</span>
new_dict <span class="token operator">=</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span>key <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> dict_1<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>new_dict<span class="token punctuation">)</span>
输出：
<span class="token punctuation">{</span><span class="token string">'python'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="22-打印九九乘法表"><a href="#22-打印九九乘法表" class="headerlink" title="22. 打印九九乘法表"></a>22. 打印九九乘法表</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"{} * {} = {}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> i<span class="token operator">*</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
输出：
<span class="token number">1</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span> 
<span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">4</span> 
<span class="token number">3</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">9</span> 
<span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">8</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">12</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">16</span> 
<span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">15</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">20</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">25</span> 
<span class="token number">6</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">12</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">18</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">24</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">30</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">36</span> 
<span class="token number">7</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">7</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">14</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">21</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">28</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">35</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">42</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">49</span> 
<span class="token number">8</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">8</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">16</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">24</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">32</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">40</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">48</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">56</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token number">8</span> <span class="token operator">=</span> <span class="token number">64</span> 
<span class="token number">9</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">9</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">18</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">27</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">36</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">45</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">54</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">63</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">8</span> <span class="token operator">=</span> <span class="token number">72</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">81</span> 

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="23-计算每个月天数"><a href="#23-计算每个月天数" class="headerlink" title="23. 计算每个月天数"></a>23. 计算每个月天数</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> calendar

month_days <span class="token operator">=</span> calendar<span class="token punctuation">.</span>monthrange<span class="token punctuation">(</span><span class="token number">2025</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>month_days<span class="token punctuation">)</span>
输出：
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="24-随机生成验证码，调用随机模块"><a href="#24-随机生成验证码，调用随机模块" class="headerlink" title="24. 随机生成验证码，调用随机模块"></a>24. 随机生成验证码，调用随机模块</h2><pre class="line-numbers language-python"><code class="language-python">
<span class="token keyword">import</span> random<span class="token punctuation">,</span> string

str_1 <span class="token operator">=</span> <span class="token string">"0123456789"</span>
<span class="token comment" spellcheck="true"># str_2 是包含所有字母的字符串</span>
str_2 <span class="token operator">=</span> string<span class="token punctuation">.</span>ascii_letters
str_3 <span class="token operator">=</span> str_1 <span class="token operator">+</span> str_2
<span class="token comment" spellcheck="true"># 多个字符中选取特定数量的字符</span>
verify_code <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>str_3<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 使用join方法拼接转换为字符串</span>
verify_code <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>verify_code<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>verify_code<span class="token punctuation">)</span>
输出：
Mk0L6Y

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="25-判断闰年"><a href="#25-判断闰年" class="headerlink" title="25. 判断闰年"></a>25. 判断闰年</h2><pre class="line-numbers language-python"><code class="language-python">year  <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">"请输入一个年份："</span><span class="token punctuation">)</span>
year <span class="token operator">=</span> int<span class="token punctuation">(</span>year<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 一行代码判断年份是否是闰年</span>
<span class="token keyword">if</span> year <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">and</span> year <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">or</span> year <span class="token operator">%</span> <span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"{}是闰年！"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"{}不是闰年！"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span>
输出示例：
请输入一个年份：<span class="token number">2000</span>
<span class="token number">2000</span>是闰年！

Process finished <span class="token keyword">with</span> exit code <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="50条有趣的Python一行代码"><a href="#50条有趣的Python一行代码" class="headerlink" title="50条有趣的Python一行代码"></a>50条有趣的Python一行代码</h1><h2 id="▍1、字母异位词"><a href="#▍1、字母异位词" class="headerlink" title="▍1、字母异位词"></a>▍<strong>1、字母异位词</strong></h2><p>两个单词如果包含相同的字母，次序不同，则称为字母易位词(anagram)。</p>
<p>例如，“silent”和“listen”是字母易位词，而“apple”和“aplee”不是易位词。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

s1 <span class="token operator">=</span> <span class="token string">'below'</span>
s2 <span class="token operator">=</span> <span class="token string">'elbow'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'anagram'</span><span class="token punctuation">)</span> <span class="token keyword">if</span> Counter<span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token operator">==</span> Counter<span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'not an anagram'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用一行Python代码，就能判断出来了。</p>
<h2 id="▍2、二进制转十进制"><a href="#▍2、二进制转十进制" class="headerlink" title="▍2、二进制转十进制"></a>▍<strong>2、二进制转十进制</strong></h2><pre class="line-numbers language-python"><code class="language-python">decimal <span class="token operator">=</span> int<span class="token punctuation">(</span><span class="token string">'1010'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>decimal<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍3、将字符串转换为小写"><a href="#▍3、将字符串转换为小写" class="headerlink" title="▍3、将字符串转换为小写"></a><strong>▍3、将字符串转换为小写</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hi my name is XiaoF"</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 'hi my name is xiaof'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hi my name is XiaoF"</span><span class="token punctuation">.</span>casefold<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 'hi my name is xiaof'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍4、将字符串转换为大写"><a href="#▍4、将字符串转换为大写" class="headerlink" title="▍4、将字符串转换为大写"></a><strong>▍4、将字符串转换为大写</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"hi my name is XiaoF"</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 'HI MY NAME IS XIAOF'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍5、将字符串转换为字节"><a href="#▍5、将字符串转换为字节" class="headerlink" title="▍5、将字符串转换为字节"></a><strong>▍5、将字符串转换为字节</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"convert string to bytes using encode method"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># b'convert string to bytes using encode method'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍6、拷贝文件"><a href="#▍6、拷贝文件" class="headerlink" title="▍6、拷贝文件"></a><strong>▍6、拷贝文件</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> shutil

shutil<span class="token punctuation">.</span>copyfile<span class="token punctuation">(</span><span class="token string">'source.txt'</span><span class="token punctuation">,</span> <span class="token string">'dest.txt'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍7、快速排序"><a href="#▍7、快速排序" class="headerlink" title="▍7、快速排序"></a><strong>▍7、快速排序</strong></h2><pre class="line-numbers language-python"><code class="language-python">qsort <span class="token operator">=</span> <span class="token keyword">lambda</span> l<span class="token punctuation">:</span> l <span class="token keyword">if</span> len<span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token keyword">else</span> qsort<span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token keyword">if</span> x <span class="token operator">&lt;</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">[</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> qsort<span class="token punctuation">(</span><span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token keyword">if</span> x <span class="token operator">>=</span> l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>qsort<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [5, 11, 17, 29, 97, 103]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍8、n个连续数的和"><a href="#▍8、n个连续数的和" class="headerlink" title="▍8、n个连续数的和"></a><strong>▍8、n个连续数的和</strong></h2><pre class="line-numbers language-python"><code class="language-python">n <span class="token operator">=</span> <span class="token number">10</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>sum<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 55</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍9、交换两个变量的值"><a href="#▍9、交换两个变量的值" class="headerlink" title="▍9、交换两个变量的值"></a><strong>▍9、交换两个变量的值</strong></h2><pre class="line-numbers language-python"><code class="language-python">a<span class="token punctuation">,</span>b <span class="token operator">=</span> b<span class="token punctuation">,</span>a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍10、斐波纳契数列"><a href="#▍10、斐波纳契数列" class="headerlink" title="▍10、斐波纳契数列"></a><strong>▍10、斐波纳契数列</strong></h2><pre class="line-numbers language-python"><code class="language-python">fib <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token keyword">if</span> x<span class="token operator">&lt;=</span><span class="token number">1</span> <span class="token keyword">else</span> fib<span class="token punctuation">(</span>x<span class="token number">-1</span><span class="token punctuation">)</span> <span class="token operator">+</span> fib<span class="token punctuation">(</span>x<span class="token number">-2</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>fib<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 6765</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍11、将嵌套列表合并为一个列表"><a href="#▍11、将嵌套列表合并为一个列表" class="headerlink" title="▍11、将嵌套列表合并为一个列表"></a><strong>▍11、将嵌套列表合并为一个列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">main_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

result <span class="token operator">=</span> <span class="token punctuation">[</span>item <span class="token keyword">for</span> sublist <span class="token keyword">in</span> main_list <span class="token keyword">for</span> item <span class="token keyword">in</span> sublist<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>

<span class="token operator">></span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍12、运行一个HTTP服务器"><a href="#▍12、运行一个HTTP服务器" class="headerlink" title="▍12、运行一个HTTP服务器"></a><strong>▍12、运行一个HTTP服务器</strong></h2><pre class="line-numbers language-python"><code class="language-python">python3 <span class="token operator">-</span>m http<span class="token punctuation">.</span>server <span class="token number">8000</span>
python2 <span class="token operator">-</span>m SimpleHTTPServer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍13、反转列表"><a href="#▍13、反转列表" class="headerlink" title="▍13、反转列表"></a><strong>▍13、反转列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [54, 53, 52, 13, 12, 11, 2, 1, 0]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍14、阶乘"><a href="#▍14、阶乘" class="headerlink" title="▍14、阶乘"></a><strong>▍14、阶乘</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> math

fact_5 <span class="token operator">=</span> math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>fact_5<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 120</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍15、在列表推导式中使用for和if"><a href="#▍15、在列表推导式中使用for和if" class="headerlink" title="▍15、在列表推导式中使用for和if"></a><strong>▍15、在列表推导式中使用for和if</strong></h2><pre class="line-numbers language-python"><code class="language-python">even_list <span class="token operator">=</span> <span class="token punctuation">[</span>number <span class="token keyword">for</span> number <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token keyword">if</span> number <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>even_list<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [2, 4]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍16、列表中最长的字符串"><a href="#▍16、列表中最长的字符串" class="headerlink" title="▍16、列表中最长的字符串"></a><strong>▍16、列表中最长的字符串</strong></h2><pre class="line-numbers language-python"><code class="language-python">words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'This'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'list'</span><span class="token punctuation">,</span> <span class="token string">'of'</span><span class="token punctuation">,</span> <span class="token string">'words'</span><span class="token punctuation">]</span>

result <span class="token operator">=</span> max<span class="token punctuation">(</span>words<span class="token punctuation">,</span> key<span class="token operator">=</span>len<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 'words'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍17、列表推导式"><a href="#▍17、列表推导式" class="headerlink" title="▍17、列表推导式"></a><strong>▍17、列表推导式</strong></h2><pre class="line-numbers language-python"><code class="language-python">li <span class="token operator">=</span> <span class="token punctuation">[</span>num <span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍18、集合推导式"><a href="#▍18、集合推导式" class="headerlink" title="▍18、集合推导式"></a><strong>▍18、集合推导式</strong></h2><pre class="line-numbers language-python"><code class="language-python">num_set <span class="token operator">=</span> <span class="token punctuation">{</span>num <span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>num_set<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍19、字典推导式"><a href="#▍19、字典推导式" class="headerlink" title="▍19、字典推导式"></a><strong>▍19、字典推导式</strong></h2><pre class="line-numbers language-python"><code class="language-python">dict_numbers <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> x<span class="token operator">*</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dict_numbers<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {1: 1, 2: 4, 3: 9, 4: 16}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍20、if-else"><a href="#▍20、if-else" class="headerlink" title="▍20、if-else"></a><strong>▍20、if-else</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"even"</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token number">4</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"odd"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍21、无限循环"><a href="#▍21、无限循环" class="headerlink" title="▍21、无限循环"></a><strong>▍21、无限循环</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="▍22、检查数据类型"><a href="#▍22、检查数据类型" class="headerlink" title="▍22、检查数据类型"></a><strong>▍22、检查数据类型</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> int<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># True</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token string">"allwin"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># True</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>isinstance<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1997</span><span class="token punctuation">]</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍23、While循环"><a href="#▍23、While循环" class="headerlink" title="▍23、While循环"></a><strong>▍23、While循环</strong></h2><pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">5</span>

<span class="token keyword">while</span> a <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> a <span class="token operator">-</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍24、使用print语句写入文件"><a href="#▍24、使用print语句写入文件" class="headerlink" title="▍24、使用print语句写入文件"></a><strong>▍24、使用print语句写入文件</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">,</span> file<span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>既可打印出信息，还能将信息保存文件。</p>
<h2 id="▍25、计算一个字符在字符串中出现的频率"><a href="#▍25、计算一个字符在字符串中出现的频率" class="headerlink" title="▍25、计算一个字符在字符串中出现的频率"></a><strong>▍25、计算一个字符在字符串中出现的频率</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"umbrella"</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'l'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍26、合并列表"><a href="#▍26、合并列表" class="headerlink" title="▍26、合并列表"></a><strong>▍26、合并列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'XiaoF'</span><span class="token punctuation">]</span>
list1<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>list2<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [1, 2, 4, 'XiaoF']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍27、合并字典"><a href="#▍27、合并字典" class="headerlink" title="▍27、合并字典"></a><strong>▍27、合并字典</strong></h2><pre class="line-numbers language-python"><code class="language-python">dict1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'weiwei'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">}</span>
dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'city'</span><span class="token punctuation">:</span> <span class="token string">'Beijing'</span><span class="token punctuation">}</span>
dict1<span class="token punctuation">.</span>update<span class="token punctuation">(</span>dict2<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>dict1<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {'name': 'weiwei', 'age': 23, 'city': 'Beijing'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍28、合并集合"><a href="#▍28、合并集合" class="headerlink" title="▍28、合并集合"></a><strong>▍28、合并集合</strong></h2><pre class="line-numbers language-python"><code class="language-python">set1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>
set2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">}</span>
set1<span class="token punctuation">.</span>update<span class="token punctuation">(</span>set2<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {0, 1, 2, 11, 12, 13}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍29、时间戳"><a href="#▍29、时间戳" class="headerlink" title="▍29、时间戳"></a><strong>▍29、时间戳</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time

<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="▍30、列表中出现次数最多的元素"><a href="#▍30、列表中出现次数最多的元素" class="headerlink" title="▍30、列表中出现次数最多的元素"></a><strong>▍30、列表中出现次数最多的元素</strong></h2><pre class="line-numbers language-python"><code class="language-python">test_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
most_frequent_element <span class="token operator">=</span> max<span class="token punctuation">(</span>set<span class="token punctuation">(</span>test_list<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span>test_list<span class="token punctuation">.</span>count<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>most_frequent_element<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍31、嵌套列表"><a href="#▍31、嵌套列表" class="headerlink" title="▍31、嵌套列表"></a><strong>▍31、嵌套列表</strong></h2><pre class="line-numbers language-python"><code class="language-python">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [[0], [1], [2], [3], [4], [5], [6], [7], [8], [9]]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍32、八进制转十进制"><a href="#▍32、八进制转十进制" class="headerlink" title="▍32、八进制转十进制"></a><strong>▍32、八进制转十进制</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token string">'30'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment" spellcheck="true"># 24</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍33、将键值对转换为字典"><a href="#▍33、将键值对转换为字典" class="headerlink" title="▍33、将键值对转换为字典"></a><strong>▍33、将键值对转换为字典</strong></h2><pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> dict<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'XiaoF'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {'name': 'XiaoF', 'age': 23}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍34、求商和余数"><a href="#▍34、求商和余数" class="headerlink" title="▍34、求商和余数"></a><strong>▍34、求商和余数</strong></h2><pre class="line-numbers language-python"><code class="language-python">quotient<span class="token punctuation">,</span> remainder <span class="token operator">=</span> divmod<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>quotient<span class="token punctuation">,</span> remainder<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 0 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>divmod()函数返回当参数1除以参数2时，包含商和余数的元组。</p>
<h2 id="▍35、删除列表中的重复项"><a href="#▍35、删除列表中的重复项" class="headerlink" title="▍35、删除列表中的重复项"></a><strong>▍35、删除列表中的重复项</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>set<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [4, 5, 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍36、按升序排序列表"><a href="#▍36、按升序排序列表" class="headerlink" title="▍36、按升序排序列表"></a><strong>▍36、按升序排序列表</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [1, 2, 5, 9]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍37、按降序排序列表"><a href="#▍37、按降序排序列表" class="headerlink" title="▍37、按降序排序列表"></a><strong>▍37、按降序排序列表</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>sorted<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [9, 5, 2, 1]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍38、获取小写字母表"><a href="#▍38、获取小写字母表" class="headerlink" title="▍38、获取小写字母表"></a><strong>▍38、获取小写字母表</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> string

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># abcdefghijklmnopqrstuvwxyz</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍39、获取大写字母表"><a href="#▍39、获取大写字母表" class="headerlink" title="▍39、获取大写字母表"></a><strong>▍39、获取大写字母表</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> string

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_uppercase<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍40、获取0到9字符串"><a href="#▍40、获取0到9字符串" class="headerlink" title="▍40、获取0到9字符串"></a><strong>▍40、获取0到9字符串</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> string

<span class="token keyword">print</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>digits<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 0123456789</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍41、十六进制转十进制"><a href="#▍41、十六进制转十进制" class="headerlink" title="▍41、十六进制转十进制"></a><strong>▍41、十六进制转十进制</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token string">'da9'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 3497</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍42、日期时间"><a href="#▍42、日期时间" class="headerlink" title="▍42、日期时间"></a><strong>▍42、日期时间</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> time

<span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># Thu Aug 13 20:00:00 2021</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍43、将列表中的字符串转换为整数"><a href="#▍43、将列表中的字符串转换为整数" class="headerlink" title="▍43、将列表中的字符串转换为整数"></a><strong>▍43、将列表中的字符串转换为整数</strong></h2><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>list<span class="token punctuation">(</span>map<span class="token punctuation">(</span>int<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="▍44、用键对字典进行排序"><a href="#▍44、用键对字典进行排序" class="headerlink" title="▍44、用键对字典进行排序"></a><strong>▍44、用键对字典进行排序</strong></h2><pre class="line-numbers language-python"><code class="language-python">d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'one'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'eight'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span>
result <span class="token operator">=</span> <span class="token punctuation">{</span>key<span class="token punctuation">:</span> d<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token keyword">for</span> key <span class="token keyword">in</span> sorted<span class="token punctuation">(</span>d<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {'eight': 8, 'four': 4, 'one': 1}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍45、用键值对字典进行排序"><a href="#▍45、用键值对字典进行排序" class="headerlink" title="▍45、用键值对字典进行排序"></a><strong>▍45、用键值对字典进行排序</strong></h2><pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
result <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">:</span> v <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> sorted<span class="token punctuation">(</span>x<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> item<span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># {0: 0, 2: 1, 1: 2, 4: 3, 3: 4}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍46、列表旋转"><a href="#▍46、列表旋转" class="headerlink" title="▍46、列表旋转"></a><strong>▍46、列表旋转</strong></h2><pre class="line-numbers language-python"><code class="language-python">li <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true"># li[n:] + li[:n], 右变左</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>li<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> li<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [3, 4, 5, 1, 2]</span>

<span class="token comment" spellcheck="true"># li[-n:] + li[:-n], 左变右</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>li<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">+</span> li<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [5, 1, 2, 3, 4]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍47、将字符串中的数字移除"><a href="#▍47、将字符串中的数字移除" class="headerlink" title="▍47、将字符串中的数字移除"></a><strong>▍47、将字符串中的数字移除</strong></h2><pre class="line-numbers language-python"><code class="language-python">message <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'abc123def4fg56vcg2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># abcdeffgvcg</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍48、矩阵变换"><a href="#▍48、矩阵变换" class="headerlink" title="▍48、矩阵变换"></a><strong>▍48、矩阵变换</strong></h2><pre class="line-numbers language-python"><code class="language-python">old_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
result <span class="token operator">=</span> list<span class="token punctuation">(</span>list<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> zip<span class="token punctuation">(</span><span class="token operator">*</span>old_list<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [[1, 3, 5], [2, 4, 6], [3, 6, 7]]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍49、列表过滤"><a href="#▍49、列表过滤" class="headerlink" title="▍49、列表过滤"></a><strong>▍49、列表过滤</strong></h2><pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># [2, 4, 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="▍50、解包"><a href="#▍50、解包" class="headerlink" title="▍50、解包"></a><strong>▍50、解包</strong></h2><pre class="line-numbers language-python"><code class="language-python">a<span class="token punctuation">,</span> <span class="token operator">*</span>b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># [2, 3, 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io" rel="external nofollow noreferrer">杰克成</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://jackhcc.github.io/posts/blog-python23.html">https://jackhcc.github.io/posts/blog-python23.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/aliqr.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/reward/wxqr.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '3821a0bbb773038a51fc',
        clientSecret: '4b30b507d67ec5497ec0e77f43f80cb3e0d7dd3a',
        repo: 'JackHCC.github.io',
        owner: 'JackHCC',
        admin: "JackHCC",
        id: '2021-10-02T11-51-04',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/blog-python24.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/0.jpg" class="responsive-img" alt="Python Module">
                        
                        <span class="card-title">Python Module</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Python好用的小众模块
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-10-03
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/quantum-computation.html">
                    <div class="card-image">
                        
                        
                        <img src="/images/loading.gif" data-original="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/medias/featureimages/14.jpg" class="responsive-img" alt="Quantum Computation理论">
                        
                        <span class="card-title">Quantum Computation理论</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            量子计算学习记录【更新中】
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-10-01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Quantum/" class="post-category">
                                    Quantum
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Quantum-Computation/">
                        <span class="chip bg-color">Quantum Computation</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('4'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://jackhcc.github.io" target="_blank">杰克成</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">2595.3k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "2";
                    var startDate = "27";
                    var startHour = "6";
                    var startMinute = "30";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/JackHCC" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:jackcc0701@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://www.facebook.com/profile.php?id=100046343443643" class="tooltipped" target="_blank" data-tooltip="关注我的Facebook: https://www.facebook.com/profile.php?id=100046343443643" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>



    <a href="https://twitter.com/JackChe66021834" class="tooltipped" target="_blank" data-tooltip="关注我的Twitter: https://twitter.com/JackChe66021834" data-position="top" data-delay="50">
        <i class="fab fa-twitter"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2508074836" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2508074836" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>



    <a href="https://weibo.com/u/6885584679" class="tooltipped" target="_blank" data-tooltip="关注我的微博: https://weibo.com/u/6885584679" data-position="top" data-delay="50">
        <i class="fab fa-weibo"></i>
    </a>



    <a href="https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/8f8482f01f0d6a04e844efe32e0f0710" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/js/matery.js"></script>

    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script type="text/javascript" src="/js/fireworks.js"></script>

    <script type="text/javascript">
        //只在桌面版网页启用特效
        var windowWidth = $(window).width();
        if (windowWidth > 768) {
            document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>'); }
    </script>

    <!-- weather -->
	<script type="text/javascript">
	WIDGET = {FID: 'TToslpmkVO'}
	</script>
	<script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>


    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

    
    
    <script async src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
        <script src="//code.tidio.co/kqhlkxviiccyoa0czpfpu4ijuey9hfre.js"></script>
        <script> 
            $(document).ready(function () {
                setInterval(change_Tidio, 50);  
                function change_Tidio() { 
                    var tidio=$("#tidio-chat iframe");
                    if(tidio.css("display")=="block"&& $(window).width()>977 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" &&$(window).width()>977)>0? "-40px" : ($("div.toc-title").length&&$(window).width()>977)>0?"85px":"20px";   
                        document.getElementById("tidio-chat-iframe").style.right="-15px";   
                        document.getElementById("tidio-chat-iframe").style.height=parseInt(tidio.css("height"))>=520?"520px":tidio.css("height");
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    } 
                    else if(tidio.css("display")=="block"&&$(window).width()>601 &&$(window).width()<992 ){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && 601< $(window).width()<992)>0? "-40px":"20px" ;   
                        document.getElementById("tidio-chat-iframe").style.right="-15px"; 
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    else if(tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))<230){
                        document.getElementById("tidio-chat-iframe").style.bottom= ($("div#backTop.top-scroll").css("display")=="none" && $(window).width()<601)>0? "-10px":"45px" ;   
                        document.getElementById("tidio-chat-iframe").style.zIndex="997";
                    }
                    if( tidio.css("display")=="block"&&$(window).width()<601 && parseInt(tidio.css("height"))>=230){
                        document.getElementById("tidio-chat-iframe").style.zIndex="998";
                    }
                } 
            }); 
        </script>
    

    

    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="https://cdn.jsdelivr.net/gh/JackHCC/JackHCC.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

        <script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script>
        <script>
        $('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'your_domain' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });
        </script><script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script></body>

</html>

